import{_ as n,o as s,c as a,d as t}from"./app.ede35192.js";const e={},p=t(`<h1 id="\u65E5\u671F\u65F6\u95F4" tabindex="-1"><a class="header-anchor" href="#\u65E5\u671F\u65F6\u95F4" aria-hidden="true">#</a> \u65E5\u671F\u65F6\u95F4</h1><h2 id="dbeaver" tabindex="-1"><a class="header-anchor" href="#dbeaver" aria-hidden="true">#</a> DBeaver</h2><p>\u4F7F\u7528DBeaver\uFF0C\u9700\u8981\u5728\u7F16\u8F91\u8FDE\u63A5\u8BBE\u7F6E\u6B63\u786E\u65F6\u533A\u3002</p><p><img src="https://raw.githubusercontent.com/caffreygo/static/main/blog/mysql/datetime/dbeaver.png" alt=""></p><p><strong>\u4F7F\u7528\u547D\u4EE4\u8BBE\u7F6E\u65F6\u533A</strong></p><p>\u8BBE\u7F6E\u4F1A\u8BDD\u65F6\u533A\uFF0C\u6BCF\u6B21\u8FDE\u63A5\u4F1A\u8BDD\u9700\u8981\u91CD\u65B0\u8BBE\u7F6E</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">set</span> time_zone <span class="token operator">=</span> <span class="token string">&#39;+8:00&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5168\u5C40\u65F6\u533A\u8BBE\u7F6E</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">set</span> <span class="token keyword">global</span> time_zone <span class="token operator">=</span> <span class="token string">&#39;+8:00&#39;</span><span class="token punctuation">;</span>
flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u6570\u636E\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u7C7B\u578B" aria-hidden="true">#</a> \u6570\u636E\u7C7B\u578B</h2><table><thead><tr><th>\u65E5\u671F\u65F6\u95F4\u7C7B\u578B</th><th>\u5360\u7528\u7A7A\u95F4</th><th>\u65E5\u671F\u683C\u5F0F</th><th>\u6700\u5C0F\u503C</th><th>\u6700\u5927\u503C</th><th>\u96F6\u503C\u8868\u793A</th></tr></thead><tbody><tr><td>DATETIME</td><td>8 bytes</td><td>YYYY-MM-DD HH:MM:SS</td><td>1000-01-01 00:00:00</td><td>9999-12-31 23:59:59</td><td>0000-00-00 00:00:00</td></tr><tr><td>TIMESTAMP</td><td>4 bytes</td><td>YYYY-MM-DD HH:MM:SS</td><td>1970-01-01 08:00:01</td><td>2038-01-19 03:14:07</td><td>00000000000000</td></tr><tr><td>DATE</td><td>4 bytes</td><td>YYYY-MM-DD</td><td>1000-01-01</td><td>9999-12-31</td><td>0000-00-00</td></tr><tr><td>TIME</td><td>3 bytes</td><td>HH:MM:SS</td><td>-838:59:59</td><td>838:59:59</td><td>00:00:00</td></tr><tr><td>YEAR</td><td>1 bytes</td><td>YYYY</td><td>1901</td><td>2155</td><td>0000</td></tr></tbody></table><ul><li>Mysql\u4FDD\u5B58\u65E5\u671F\u683C\u5F0F\u4F7F\u7528 YYYY-MM-DD HH:MM:SS\u7684ISO 8601\u6807\u51C6</li><li>\u5411\u6570\u636E\u8868\u50A8\u5B58\u65E5\u671F\u4E0E\u65F6\u95F4\u5FC5\u987B\u4F7F\u7528ISO\u683C\u5F0F</li><li>\u5982\u679C\u6D89\u53CA\u65F6\u95F4\u8BA1\u7B97\uFF0C\u4F7F\u7528mysql\u7684\u65F6\u95F4\u7C7B\u578B\u4F1A\u65B9\u4FBF\u5F88\u591A</li><li>\u5982\u679C\u53EA\u662F\u5355\u7EAF\u4E3A\u4E86\u8BB0\u5F55\u65F6\u95F4\uFF0C\u4E5F\u53EF\u4EE5\u9009\u62E9\u4F7F\u7528int\u6216\u8005datetime\u7C7B\u578B</li></ul><h2 id="\u521B\u5EFA\u5B57\u6BB5" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u5B57\u6BB5" aria-hidden="true">#</a> \u521B\u5EFA\u5B57\u6BB5</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> stu <span class="token keyword">ADD</span> birthday <span class="token keyword">datetime</span> <span class="token keyword">default</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
<span class="token keyword">UPDATE</span> stu <span class="token keyword">set</span> birthday <span class="token operator">=</span><span class="token string">&quot;1996-02-12 08:22:13&quot;</span> <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u683C\u5F0F\u5316" tabindex="-1"><a class="header-anchor" href="#\u683C\u5F0F\u5316" aria-hidden="true">#</a> \u683C\u5F0F\u5316</h2><h3 id="\u53C2\u6570\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#\u53C2\u6570\u4ECB\u7ECD" aria-hidden="true">#</a> \u53C2\u6570\u4ECB\u7ECD</h3><table><thead><tr><th style="text-align:left;">\u683C\u5F0F</th><th style="text-align:left;">\u63CF\u8FF0</th></tr></thead><tbody><tr><td style="text-align:left;">%a</td><td style="text-align:left;">\u7F29\u5199\u661F\u671F\u540D</td></tr><tr><td style="text-align:left;">%b</td><td style="text-align:left;">\u7F29\u5199\u6708\u540D</td></tr><tr><td style="text-align:left;">%c</td><td style="text-align:left;">\u6708\uFF0C\u6570\u503C</td></tr><tr><td style="text-align:left;">%D</td><td style="text-align:left;">\u5E26\u6709\u82F1\u6587\u524D\u7F00\u7684\u6708\u4E2D\u7684\u5929</td></tr><tr><td style="text-align:left;">%d</td><td style="text-align:left;">\u6708\u7684\u5929\uFF0C\u6570\u503C(00-31)</td></tr><tr><td style="text-align:left;">%e</td><td style="text-align:left;">\u6708\u7684\u5929\uFF0C\u6570\u503C(0-31)</td></tr><tr><td style="text-align:left;">%f</td><td style="text-align:left;">\u5FAE\u79D2</td></tr><tr><td style="text-align:left;">%H</td><td style="text-align:left;">\u5C0F\u65F6 (00-23)</td></tr><tr><td style="text-align:left;">%h</td><td style="text-align:left;">\u5C0F\u65F6 (01-12)</td></tr><tr><td style="text-align:left;">%I</td><td style="text-align:left;">\u5C0F\u65F6 (01-12)</td></tr><tr><td style="text-align:left;">%i</td><td style="text-align:left;">\u5206\u949F\uFF0C\u6570\u503C(00-59)</td></tr><tr><td style="text-align:left;">%j</td><td style="text-align:left;">\u5E74\u7684\u5929 (001-366)</td></tr><tr><td style="text-align:left;">%k</td><td style="text-align:left;">\u5C0F\u65F6 (0-23)</td></tr><tr><td style="text-align:left;">%l</td><td style="text-align:left;">\u5C0F\u65F6 (1-12)</td></tr><tr><td style="text-align:left;">%M</td><td style="text-align:left;">\u6708\u540D</td></tr><tr><td style="text-align:left;">%m</td><td style="text-align:left;">\u6708\uFF0C\u6570\u503C(00-12)</td></tr><tr><td style="text-align:left;">%p</td><td style="text-align:left;">AM \u6216 PM</td></tr><tr><td style="text-align:left;">%r</td><td style="text-align:left;">\u65F6\u95F4\uFF0C12-\u5C0F\u65F6\uFF08hh:mm:ss AM \u6216 PM\uFF09</td></tr><tr><td style="text-align:left;">%S</td><td style="text-align:left;">\u79D2(00-59)</td></tr><tr><td style="text-align:left;">%s</td><td style="text-align:left;">\u79D2(00-59)</td></tr><tr><td style="text-align:left;">%T</td><td style="text-align:left;">\u65F6\u95F4, 24-\u5C0F\u65F6 (hh:mm:ss)</td></tr><tr><td style="text-align:left;">%U</td><td style="text-align:left;">\u5468 (00-53) \u661F\u671F\u65E5\u662F\u4E00\u5468\u7684\u7B2C\u4E00\u5929</td></tr><tr><td style="text-align:left;">%u</td><td style="text-align:left;">\u5468 (00-53) \u661F\u671F\u4E00\u662F\u4E00\u5468\u7684\u7B2C\u4E00\u5929</td></tr><tr><td style="text-align:left;">%V</td><td style="text-align:left;">\u5468 (01-53) \u661F\u671F\u65E5\u662F\u4E00\u5468\u7684\u7B2C\u4E00\u5929\uFF0C\u4E0E %X \u4F7F\u7528</td></tr><tr><td style="text-align:left;">%v</td><td style="text-align:left;">\u5468 (01-53) \u661F\u671F\u4E00\u662F\u4E00\u5468\u7684\u7B2C\u4E00\u5929\uFF0C\u4E0E %x \u4F7F\u7528</td></tr><tr><td style="text-align:left;">%W</td><td style="text-align:left;">\u661F\u671F\u540D</td></tr><tr><td style="text-align:left;">%w</td><td style="text-align:left;">\u5468\u7684\u5929 \uFF080=\u661F\u671F\u65E5, 6=\u661F\u671F\u516D\uFF09</td></tr><tr><td style="text-align:left;">%X</td><td style="text-align:left;">\u5E74\uFF0C\u5176\u4E2D\u7684\u661F\u671F\u65E5\u662F\u5468\u7684\u7B2C\u4E00\u5929\uFF0C4 \u4F4D\uFF0C\u4E0E %V \u4F7F\u7528</td></tr><tr><td style="text-align:left;">%x</td><td style="text-align:left;">\u5E74\uFF0C\u5176\u4E2D\u7684\u661F\u671F\u4E00\u662F\u5468\u7684\u7B2C\u4E00\u5929\uFF0C4 \u4F4D\uFF0C\u4E0E %v \u4F7F\u7528</td></tr><tr><td style="text-align:left;">%Y</td><td style="text-align:left;">\u5E74\uFF0C4 \u4F4D</td></tr><tr><td style="text-align:left;">%y</td><td style="text-align:left;">\u5E74\uFF0C2 \u4F4D</td></tr></tbody></table><h3 id="\u5B9E\u4F8B\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u4F8B\u64CD\u4F5C" aria-hidden="true">#</a> \u5B9E\u4F8B\u64CD\u4F5C</h3><p>\u4F7F\u7528<code>Date_format</code>\u683C\u5F0F\u5316<strong>\u65E5\u671F\u4E0E\u65F6\u95F4</strong>\u663E\u793A</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> cname<span class="token punctuation">,</span>DATE_FORMAT<span class="token punctuation">(</span>birthday<span class="token punctuation">,</span><span class="token string">&#39;%Y\u5E74%m\u6708%d %H\u65F6%i\u5206%s\u79D2&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> birthday <span class="token keyword">from</span> class<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://raw.githubusercontent.com/caffreygo/static/main/blog/mysql/datetime/dateformat.png" alt=""></p><p>\u4F7F\u7528<code>time_format</code>\u683C\u5F0F\u5316\u8F93\u51FA<strong>\u65F6\u95F4</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> cname<span class="token punctuation">,</span>TIME_FORMAT<span class="token punctuation">(</span>birthday<span class="token punctuation">,</span><span class="token string">&#39;%h:%i:%s&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> birthday <span class="token keyword">from</span> class<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://raw.githubusercontent.com/caffreygo/static/main/blog/mysql/datetime/timeformat.png" alt=""></p><h2 id="\u65F6\u95F4\u6233" tabindex="-1"><a class="header-anchor" href="#\u65F6\u95F4\u6233" aria-hidden="true">#</a> \u65F6\u95F4\u6233</h2><p>\u4EE5\u65F6\u95F4\u6233\u683C\u5F0F\u6765\u8BB0\u5F55\u65E5\u671F\u4E0E\u65F6\u95F4\u3002</p><p><strong>\u8BBE\u7F6ETIMESTAMP\u5B57\u6BB5</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> class <span class="token keyword">ADD</span> updated_at
<span class="token keyword">TIMESTAMP</span> <span class="token keyword">default</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> class <span class="token keyword">SET</span> cname <span class="token operator">=</span> <span class="token string">&#39;Jerry&#39;</span><span class="token punctuation">,</span>updated_at <span class="token operator">=</span> <span class="token string">&#39;2020-2-12 10:33:12&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6DFB\u52A0\u6570\u636E\u65F6\u81EA\u52A8\u66F4\u65B0\u65F6\u95F4</strong> <code>ON UPDATE CURRENT_TIMESTAMP</code></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> class <span class="token keyword">ADD</span> updated_at 
<span class="token keyword">TIMESTAMP</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span> 
<span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F53\u6267\u884C\u6DFB\u52A0\u4E0E\u66F4\u65B0\u65F6\u5B57\u6BB5\u5C06\u81EA\u52A8\u4E3A\u5F53\u524D\u65F6\u95F4</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> class <span class="token keyword">set</span> cname <span class="token operator">=</span> <span class="token string">&#39;\u5C0F\u5F20&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">update</span> class <span class="token keyword">set</span> cname <span class="token operator">=</span> <span class="token string">&#39;hello&#39;</span> <span class="token keyword">where</span> id<span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u6267\u884C\u66F4\u65B0\u6216\u6DFB\u52A0\u90FD\u4F1A\u6539\u53D8timestamp\u5B57\u6BB5</p></blockquote><h2 id="\u5E38\u7528\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u51FD\u6570" aria-hidden="true">#</a> \u5E38\u7528\u51FD\u6570</h2><p>\u4E0B\u9762\u662F\u83B7\u53D6\u5F53\u524D\u65E5\u671F\u3001\u65F6\u95F4\u7684\u793A\u4F8B <code>CURRENT_DATE</code> <code>CURRENT_TIME</code></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">CURRENT_DATE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">CURRENT_TIME</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> DAYOFWEEK<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u83B7\u53D6\u65F6\u95F4\u90E8\u5206\u503C</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>updated_at<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">MONTH</span><span class="token punctuation">(</span>updated_at<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">DAY</span><span class="token punctuation">(</span>updated_at<span class="token punctuation">)</span> <span class="token keyword">from</span> stu<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5176\u4ED6\u53EF\u4EE5\u4F7F\u7528\u7684\u51FD\u6570\u5982\u4E0B</p><table><thead><tr><th>\u51FD\u6570</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>HOUR</td><td>\u65F6\uFF08\u8303\u56F4\u4ECE0\u523023\uFF09</td></tr><tr><td>MINUTE</td><td>\u5206\uFF08\u8303\u56F4\u4ECE0\u523059\uFF09</td></tr><tr><td>SECOND</td><td>\u79D2\uFF08\u8303\u56F4\u4ECE0\u523059\uFF09</td></tr><tr><td>YEAR</td><td>\u5E74\uFF08\u8303\u56F4\u4ECE1000 \u5230 9999\uFF09</td></tr><tr><td>MONTH</td><td>\u6708\uFF08\u8303\u56F4\u4ECE1\u523012\uFF09</td></tr><tr><td>DAY</td><td>\u65E5\uFF08\u8303\u56F4\u4ECE1\u5F00\u59CB\uFF09</td></tr><tr><td>TIME</td><td>\u83B7\u53D6\u65F6\u95F4</td></tr><tr><td>WEEK</td><td>\u4E00\u5E74\u4E2D\u7684\u7B2C\u51E0\u5468\uFF0C\u4ECE1\u5F00\u59CB\u8BA1\u6570</td></tr><tr><td>QUARTER</td><td>\u4E00\u5E74\u4E2D\u7684\u5B63\u5EA6\uFF0C\u4ECE1\u5F00\u59CB\u8BA1\u6570</td></tr><tr><td>CURRENT_DATE</td><td>\u5F53\u524D\u65E5\u671F</td></tr><tr><td>CURRENT_TIME</td><td>\u5F53\u524D\u65F6\u95F4</td></tr><tr><td>NOW</td><td>\u5F53\u524D\u65F6\u95F4</td></tr><tr><td>DAYOFYEAR</td><td>\u4E00\u5E74\u4E2D\u7684\u7B2C\u51E0\u5929\uFF08\u4ECE1\u5F00\u59CB\uFF09</td></tr><tr><td>DAYOFMONTH</td><td>\u6708\u4EFD\u4E2D\u5929\u6570\uFF08\u4ECE1\u5F00\u59CB\uFF09</td></tr><tr><td>DAYOFWEEK</td><td>\u661F\u671F\u5929\uFF081\uFF09\u5230\u661F\u671F\u516D\uFF087\uFF09</td></tr><tr><td>WEEKDAY</td><td>\u661F\u671F\u4E00\uFF080\uFF09\u5230\u661F\u671F\u5929\uFF086\uFF09</td></tr><tr><td>TO_DAYS</td><td>\u4ECE\u5143\u5E74\u5230\u73B0\u5728\u7684\u5929\u6570\uFF08\u5FFD\u7565\u65F6\u95F4\u90E8\u5206\uFF09</td></tr><tr><td>FROM_DAYS</td><td>\u6839\u636E\u5929\u6570\u5F97\u5230\u65E5\u671F\uFF08\u5FFD\u7565\u65F6\u95F4\u90E8\u5206\uFF09</td></tr><tr><td>TIME_TO_SEC</td><td>\u65F6\u95F4\u8F6C\u4E3A\u79D2\u6570\uFF08\u5FFD\u7565\u65E5\u671F\u90E8\u5206\uFF09</td></tr><tr><td>SEC_TO_TIME</td><td>\u6839\u636E\u79D2\u6570\u8F6C\u4E3A\u65F6\u95F4\uFF08\u5FFD\u7565\u65E5\u671F\u90E8\u5206\uFF09</td></tr><tr><td>UNIX_TIMESTAMP</td><td>\u6839\u636E\u65E5\u671F\u8FD4\u56DE\u79D2\u6570\uFF08\u5305\u62EC\u65E5\u671F\u4E0E\u65F6\u95F4\uFF09</td></tr><tr><td>FROM_UNIXTIME</td><td>\u6839\u636E\u79D2\u6570\u8FD4\u56DE\u65E5\u671F\u4E0E\u65F6\u95F4\uFF08\u5305\u62EC\u65E5\u671F\u4E0E\u65F6\u95F4\uFF09</td></tr><tr><td>DATEDIFF</td><td>\u4E24\u4E2A\u65E5\u671F\u76F8\u5DEE\u7684\u5929\u6570\uFF08\u5FFD\u7565\u65F6\u95F4\u90E8\u5206\uFF0C\u524D\u9762\u65E5\u671F\u51CF\u540E\u9762\u65E5\u671F\uFF09</td></tr><tr><td>TIMEDIFF</td><td>\u8BA1\u7B97\u4E24\u4E2A\u65F6\u95F4\u7684\u95F4\u9694\uFF08\u5FFD\u7565\u65E5\u671F\u90E8\u5206\uFF09</td></tr><tr><td>TIMESTAMPDIFF</td><td>\u6839\u636E\u6307\u5B9A\u5355\u4F4D\u8BA1\u7B97\u4E24\u4E2A\u65E5\u671F\u65F6\u95F4\u7684\u95F4\u9694\uFF08\u5305\u62EC\u65E5\u671F\u4E0E\u65F6\u95F4\uFF09</td></tr><tr><td>LAST_DAY</td><td>\u8BE5\u6708\u7684\u6700\u540E\u4E00\u5929</td></tr></tbody></table><h3 id="\u62C6\u5206\u65E5\u671F\u65F6\u95F4" tabindex="-1"><a class="header-anchor" href="#\u62C6\u5206\u65E5\u671F\u65F6\u95F4" aria-hidden="true">#</a> \u62C6\u5206\u65E5\u671F\u65F6\u95F4</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> sname<span class="token punctuation">,</span>
<span class="token keyword">YEAR</span><span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">MONTH</span><span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">DAY</span><span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">HOUR</span><span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">MINUTE</span><span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">SECOND</span><span class="token punctuation">(</span>birthday<span class="token punctuation">)</span> <span class="token keyword">from</span> stu<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5F53\u524D\u65E5\u671F\u65F6\u95F4" tabindex="-1"><a class="header-anchor" href="#\u5F53\u524D\u65E5\u671F\u65F6\u95F4" aria-hidden="true">#</a> \u5F53\u524D\u65E5\u671F\u65F6\u95F4</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">CURRENT_DATE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">CURRENT_TIME</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>now()</th><th>CURDATE()</th><th>CURRENT_DATE()</th><th>CURRENT_TIME()</th><th>NOW()</th></tr></thead><tbody><tr><td>2022-04-13 23:21:23</td><td>2022-04-13</td><td>2022-04-13</td><td>23:21:23</td><td>2022-04-13 23:21:23</td></tr></tbody></table><h3 id="\u65F6\u95F4\u8BA1\u7B97" tabindex="-1"><a class="header-anchor" href="#\u65F6\u95F4\u8BA1\u7B97" aria-hidden="true">#</a> \u65F6\u95F4\u8BA1\u7B97</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> DAYOFYEAR<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>DAYOFMONTH<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>DAYOFWEEK<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>WEEKDAY<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>DAYOFYEAR(now())</th><th>DAYOFMONTH(now())</th><th>DAYOFWEEK(now())</th><th>WEEKDAY(now())</th></tr></thead><tbody><tr><td>103</td><td>13</td><td>4</td><td>2</td></tr></tbody></table><h3 id="\u79D2\u8F6C\u6362" tabindex="-1"><a class="header-anchor" href="#\u79D2\u8F6C\u6362" aria-hidden="true">#</a> \u79D2\u8F6C\u6362</h3><p>\u4E0D\u5305\u542B\u65E5\u671F\u7684\u79D2\u8F6C\u6362</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SET</span> <span class="token variable">@time</span> <span class="token operator">=</span> <span class="token keyword">time</span><span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>TIME_TO_SEC<span class="token punctuation">(</span><span class="token variable">@time</span><span class="token punctuation">)</span><span class="token punctuation">,</span>SEC_TO_TIME<span class="token punctuation">(</span>TIME_TO_SEC<span class="token punctuation">(</span><span class="token variable">@time</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u65E5\u671F\u65F6\u95F4\u4E0E\u79D2\u8F6C\u6362</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>UNIX_TIMESTAMP<span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token punctuation">,</span>FROM_UNIXTIME<span class="token punctuation">(</span>UNIX_TIMESTAMP<span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> stu<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u5929\u8F6C\u6362" tabindex="-1"><a class="header-anchor" href="#\u5929\u8F6C\u6362" aria-hidden="true">#</a> \u5929\u8F6C\u6362</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>TO_DAYS<span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token punctuation">,</span>FROM_DAYS<span class="token punctuation">(</span>TO_DAYS<span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> stu<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>now()</th><th>TO_DAYS(NOW())</th><th>FROM_DAYS(TO_DAYS(NOW()))</th></tr></thead><tbody><tr><td>2022-04-13 23:30:32</td><td>738623</td><td>2022-04-13</td></tr></tbody></table><h3 id="\u5DEE\u503C\u8BA1\u7B97" tabindex="-1"><a class="header-anchor" href="#\u5DEE\u503C\u8BA1\u7B97" aria-hidden="true">#</a> \u5DEE\u503C\u8BA1\u7B97</h3><p>\u8BA1\u7B97\u5929\u6570\u5DEE\u503C\uFF0C\u5FFD\u7565\u65F6\u95F4\u90E8\u5206</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>DATEDIFF<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>birthday<span class="token punctuation">)</span> <span class="token keyword">from</span> stu<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8BA1\u7B97\u65F6\u95F4\u5DEE\u503C\uFF0C\u5FFD\u7565\u5929\u6570</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>TIMEDIFF<span class="token punctuation">(</span><span class="token keyword">time</span><span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">time</span><span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> stu<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="timestampdiff" tabindex="-1"><a class="header-anchor" href="#timestampdiff" aria-hidden="true">#</a> TIMESTAMPDIFF</h3><p>\u652F\u6301\u7684\u5355\u4F4D\u6709 YEAR/MONTH/WEEK/DAY/HOUR/MINUTE/SECOND\u7B49\u3002\u4E0B\u9762\u662F\u83B7\u53D6\u5B66\u751F\u6765\u5230\u4EBA\u751F\u7ECF\u5386\u7684\u5929\u6570\u3002</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> sname<span class="token punctuation">,</span>TIMESTAMPDIFF<span class="token punctuation">(</span><span class="token keyword">day</span><span class="token punctuation">,</span>birthday<span class="token punctuation">,</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> stu<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u57FA\u672C\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u67E5\u8BE2" aria-hidden="true">#</a> \u57FA\u672C\u67E5\u8BE2</h2><p>MYSQL\u5185\u90E8<strong>\u5C06\u65E5\u671F\u6309\u6570\u503C\u8FDB\u884C\u5904\u7406</strong>\uFF0C\u4E0B\u9762\u662F\u67E5\u627E&#39;1990-02-22 09:00:00&#39; \u65E5\u671F\u53EF\u4EE5\u5199\u6210\u6570\u503C\u5F62\u5F0F</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> birthday  <span class="token operator">=</span> <span class="token number">19900222090000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u67E5\u627E\u5728 1990~1999\u5E74\u51FA\u751F\u7684\u540C\u5B66</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> birthday <span class="token operator">BETWEEN</span> <span class="token string">&#39;1990-01-01&#39;</span> <span class="token operator">AND</span> <span class="token string">&#39;1999-12-31&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u83B7\u53D6\u5E74\u9F84\u6700\u5927\u7684\u540C\u5B66</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> birthday <span class="token keyword">ASC</span> <span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment"># \u66F4\u51C6\u786E\u7684\u67E5\u8BE2</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu 
<span class="token keyword">WHERE</span> birthday <span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> birthday <span class="token keyword">FROM</span> stu <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> birthday <span class="token keyword">ASC</span> <span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u67E5\u8BE2\u57281\u73ED\u62162\u73ED1990\u5E74\u51FA\u751F\u7684\u540C\u5B66</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> class_id <span class="token operator">IN</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">AND</span> <span class="token keyword">year</span><span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">1999</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>90\u540E\u6700\u559C\u6B22\u4E0A\u7684\u73ED\u7EA7</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">as</span> total<span class="token punctuation">,</span>class_id <span class="token keyword">from</span> stu 
<span class="token keyword">WHERE</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>birthday<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">1990</span> <span class="token operator">AND</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>birthday<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">2000</span> 
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> class_id
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> total <span class="token keyword">DESC</span>
<span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5927\u4E8E20\u5C81\u7684\u5973\u751F\u6700\u591A\u7684\u73ED\u7EA7</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>class_id <span class="token keyword">FROM</span> stu 
<span class="token keyword">WHERE</span> sex<span class="token operator">=</span><span class="token number">2</span> 
<span class="token operator">AND</span> TIMESTAMPDIFF<span class="token punctuation">(</span><span class="token keyword">YEAR</span><span class="token punctuation">,</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>birthday<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">20</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> class_id
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">DESC</span>
<span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u65F6\u95F4\u8BA1\u7B97-1" tabindex="-1"><a class="header-anchor" href="#\u65F6\u95F4\u8BA1\u7B97-1" aria-hidden="true">#</a> \u65F6\u95F4\u8BA1\u7B97</h2><table><thead><tr><th>\u51FD\u6570</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>ADDTIME</td><td>\u6DFB\u52A0\u65F6\u95F4\uFF08\u8D1F\u6570\u4E3A\u51CF\u5C11\uFF09\uFF0C\u53EA\u5BF9\u65F6\u95F4\u6709\u6548</td></tr><tr><td>TIMESTAMP</td><td>\u6DFB\u52A0\u65F6\u95F4\uFF08\u8D1F\u6570\u4E3A\u51CF\u5C11\uFF09\uFF0C\u53EA\u5BF9\u65F6\u95F4\u6709\u6548</td></tr><tr><td>DATE_ADD</td><td>\u6839\u636E\u5355\u4F4D\u6DFB\u52A0\u65F6\u95F4\uFF0C\u652F\u6301\u5355\u4F4D\u6709YEAR/MONTH/DAY/HOUR/MINUTE/SECOND/HOUR_MINUTE/DAY_HOUR/DAY_MINUTE/DAY_SECOND/HOUR_MINUTE/HOUR_SECOND\uFF08\u8D1F\u6570\u65F6\u7B49\u4E8EDATE_SUB)</td></tr><tr><td>DATE_SUB</td><td>DATE_ADD\u7684\u53CD\u51FD\u6570</td></tr><tr><td>LAST_DAY</td><td>\u6307\u5B9A\u6708\u6700\u540E\u4E00\u5929\u65E5\u671F</td></tr></tbody></table><p>\u4E03\u5C0F\u65F6\u524D\u7684\u65F6\u95F4</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 2022-04-13 16:55:16  \u8868\u793A\u4E3A\u5F53\u524D\u65F6\u95F4\u51CF\u53BB7\u5C0F\u65F6</span>
<span class="token keyword">select</span> ADDTIME<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;-7:00:00&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 2022-04-14 07:56:18 </span>
<span class="token keyword">select</span> <span class="token keyword">timestamp</span><span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;08:00:00&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E03\u5929\u524D/\u540E\u7684\u65E5\u671F</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> DATE_ADD<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">7</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> DATE_ADD<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token operator">-</span><span class="token number">7</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>20\u5C0F\u65F610\u5206\u949F\u540E\u7684\u65E5\u671F</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> DATE_ADD<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token string">&#39;20:10&#39;</span> HOUR_MINUTE<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2\u59298\u5C0F\u65F6\u540E\u7684\u65E5\u671F</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> DATE_ADD<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token string">&#39;2 8&#39;</span> DAY_HOUR<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u83B7\u53D6\u672C\u6708\u6700\u540E\u4E00\u5929\u65E5\u671F</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> LAST_DAY<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u83B7\u53D6\u672C\u6708\u7684\u7B2C\u4E00\u5929\u65E5\u671F</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># DATE_SUB() \u65E5\u671F\u51CF</span>
<span class="token comment"># DAYOFMONTH(now()) \u8868\u793A\u51E0\u5929\u662F\u8FD9\u4E2A\u6708\u7684\u7B2C\u51E0\u5929</span>
<span class="token comment"># 2022-04-14 20:42:28  =&gt;  2022-04-01 20:42:28</span>
<span class="token keyword">SELECT</span> DATE_SUB<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> DAYOFMONTH<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u83B7\u53D6\u672C\u6708\u53D1\u8868\u7684\u6587\u7AE0</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> article 
<span class="token keyword">WHERE</span> created_at <span class="token operator">&gt;=</span>DATE_SUB<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> DAYOFMONTH<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span> 
<span class="token operator">AND</span> created_at <span class="token operator">&lt;=</span>LAST_DAY<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u56E0\u4E3A\u4F7F\u7528\u5927\u91CF\u51FD\u6570\u4F1A\u9020\u6210\u6027\u80FD\u4E0B\u964D\uFF0C\u6240\u4EE5\u63A8\u8350\u5728\u540E\u53F0\u7A0B\u5E8F\u4E2D\u7B97\u51FA\u65F6\u95F4\u540E\u518D\u8FDB\u884C\u6BD4\u5BF9</p></blockquote><p>\u83B7\u53D6\u5F80\u524D\u4E09\u4E2A\u6708\u7684\u7B2C\u4E00\u5929</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 2022-04-14 =&gt; 2022-01-01</span>
<span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span>DATE_SUB<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">INTERVAL</span> <span class="token number">3</span> <span class="token keyword">MONTH</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;%Y-%m-01&#39;</span><span class="token punctuation">)</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u83B7\u53D6\u4E09\u4E2A\u6708\u5185\u53D1\u8868\u7684\u6587\u7AE0</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> article 
<span class="token keyword">WHERE</span> publish_time <span class="token operator">&gt;=</span>DATE_SUB<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">3</span> <span class="token keyword">MONTH</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>

<span class="token comment"># \u5982\u679C\u4ECE\u524D\u4E0A\u4E2A\u6708\u7684\u4E00\u53F7\u5F00\u59CB\u83B7\u53D6</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> article 
<span class="token keyword">WHERE</span> publish_time <span class="token operator">&gt;=</span> DATE_FORMAT<span class="token punctuation">(</span>DATE_SUB<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">3</span> <span class="token keyword">MONTH</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;%Y-%m-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u83B7\u53D6\u4E0A\u4E2A\u6708\u7684\u6700\u540E\u4E00\u5929</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 2022-03-31</span>
<span class="token keyword">SELECT</span> LAST_DAY<span class="token punctuation">(</span>DATE_SUB<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">1</span> <span class="token keyword">MONTH</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># \u6216\u76F4\u63A5\u901A\u8FC7\u660E\u786E\u65E5\u671F</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> article <span class="token keyword">WHERE</span> publish_time<span class="token operator">&gt;=</span><span class="token string">&#39;2019-01-01&#39;</span> <span class="token operator">AND</span> publish_time<span class="token operator">&lt;</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0B\u4E2A\u6708\u7684\u7B2C\u4E00\u5929</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> DATE_ADD<span class="token punctuation">(</span>LAST_DAY<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">1</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u67E5\u770B\u51FA\u751F\u8D85\u8FC720\u5E74\u7684\u540C\u5B66</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> stu <span class="token keyword">WHERE</span> birthday <span class="token operator">&lt;=</span> DATE_SUB<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">20</span> <span class="token keyword">YEAR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u672C\u5468\u4E8C\u7684\u65E5\u671F\uFF0C\u4F7F\u7528DAYOFWEEK\u65F6\u5468\u4E8C\u4E3A3</p><blockquote><p>3\u51CF\u53BB\u5F53\u524D\u65E5\u671F\u5F97\u5230\u5DEE\u503C\uFF0C\u518D\u4F7F\u7528\u5F53\u524D\u65F6\u95F4\u52A0\u4E0A\u8FD9\u4E2A\u5DEE\u503C\uFF0C\u5373\u53EF\u4ECE\u5468\u5DEE\u503C\u91CC\u7B97\u51FA\u5468\u4E8C\u662F\u51E0\u53F7</p></blockquote><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>DATE_ADD<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">3</span><span class="token operator">-</span>DAYOFWEEK<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>now() \u5468\u56DB</th><th>DATE_ADD(NOW(),INTERVAL 3-DAYOFWEEK(NOW()) DAY)</th></tr></thead><tbody><tr><td>2022-04-14 21:14:01</td><td>2022-04-12 21:14:01</td></tr></tbody></table><p>\u672C\u5468\u661F\u671F\u65E5</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># weekday 0-6 \u5468\u4E00\u662F0  \u5468\u4E8C\u662F1</span>
<span class="token keyword">SELECT</span> date_add<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">6</span><span class="token operator">-</span>WEEKDAY<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span> 
<span class="token comment"># dayofweek 1-7  \u5468\u65E5\u662F1 \u5468\u4E00\u662F2  \u5468\u516D\u4E3A7     1+7=8 - DAYOFWEEK(now())</span>
<span class="token keyword">SELECT</span> date_add<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">1</span><span class="token operator">-</span>DAYOFWEEK<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">7</span> <span class="token keyword">day</span><span class="token punctuation">)</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u5468\u7684\u661F\u671F\u65E5</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> date_add<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">1</span><span class="token operator">-</span>DAYOFWEEK<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">day</span><span class="token punctuation">)</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u67E5\u770B\u4E09\u5468\u524D\u7684\u5468\u4E8C</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
DATE_SUB<span class="token punctuation">(</span>DATE_ADD<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">3</span><span class="token operator">-</span>DAYOFWEEK<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">21</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># \u6216</span>
<span class="token keyword">SELECT</span> date_add<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">3</span><span class="token operator">-</span>DAYOFWEEK<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">21</span> <span class="token keyword">DAY</span> <span class="token punctuation">)</span>
<span class="token comment"># \u6216</span>
<span class="token keyword">select</span> DATE_SUB<span class="token punctuation">(</span>DATE_ADD<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">INTERVAL</span> <span class="token number">1</span><span class="token operator">-</span>WEEKDAY<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">day</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">INTERVAL</span> <span class="token number">21</span> <span class="token keyword">day</span><span class="token punctuation">)</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u5468\u4E00\u7684\u65E5\u671F</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SET</span> <span class="token variable">@week</span> <span class="token operator">=</span> DATE_SUB<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">interval</span> <span class="token number">1</span> week<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> DATE_ADD<span class="token punctuation">(</span><span class="token variable">@week</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">0</span><span class="token operator">-</span>WEEKDAY<span class="token punctuation">(</span><span class="token variable">@week</span><span class="token punctuation">)</span> <span class="token keyword">day</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">#\u6216</span>
<span class="token keyword">SELECT</span> date_add<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">2</span><span class="token operator">-</span>DAYOFWEEK<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">7</span> <span class="token keyword">DAY</span> <span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>DATE_ADD(@week,INTERVAL 0-WEEKDAY(@week) day)</th></tr></thead><tbody><tr><td>2022-04-04 21:43:06</td></tr></tbody></table><p>\u83B7\u53D6\u672C\u6708\u8FDF\u5230\u7684\u540C\u5B66</p><table><thead><tr><th>date(date_sub(NOW(),INTERVAL DAYOFMONTH(now())-1 DAY))</th></tr></thead><tbody><tr><td>2022-04-01</td></tr></tbody></table><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> attendance 
<span class="token keyword">WHERE</span> <span class="token keyword">date</span><span class="token punctuation">(</span>created_at<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token keyword">date</span><span class="token punctuation">(</span>date_sub<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> DAYOFMONTH<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">AND</span> <span class="token keyword">time</span><span class="token punctuation">(</span>created_at<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token string">&#39;08:30:00&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u672C\u6708\u8FDF\u5230\u8D85\u8FC72\u6B21\u7684\u540C\u5B66</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> stu_id<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> attendance 
<span class="token keyword">WHERE</span> <span class="token keyword">date</span><span class="token punctuation">(</span>created_at<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token keyword">date</span><span class="token punctuation">(</span>date_sub<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> DAYOFMONTH<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">DAY</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">AND</span> <span class="token keyword">time</span><span class="token punctuation">(</span>created_at<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token string">&#39;08:30:00&#39;</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> stu_id
<span class="token keyword">HAVING</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token operator">&gt;=</span><span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u672C\u5468\u5468\u4E00\u7684\u65E5\u671F</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> DATE_ADD<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">0</span><span class="token operator">-</span>WEEKDAY<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">day</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u83B7\u53D6\u672C\u5468\u8FDF\u5230\u7684\u5B66\u751F\u7F16\u53F7</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">set</span> <span class="token variable">@begin</span> <span class="token operator">=</span><span class="token keyword">date</span><span class="token punctuation">(</span>date_add<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">0</span><span class="token operator">-</span>WEEKDAY<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">day</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;%Y-%m-%d&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> stu_id <span class="token keyword">from</span> attendance 
<span class="token keyword">WHERE</span> <span class="token keyword">date</span><span class="token punctuation">(</span>created_at<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token variable">@begin</span>
<span class="token operator">AND</span> <span class="token keyword">time</span><span class="token punctuation">(</span>created_at<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token string">&#39;08:00:00&#39;</span>
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> stu_id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u83B7\u53D6\u4E0A\u5468\u6253\u5361\u8BB0\u5F55</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">set</span> <span class="token variable">@week</span> <span class="token operator">=</span> DATE_SUB<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">1</span> WEEK<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> stu_id <span class="token keyword">FROM</span> attendance
<span class="token keyword">WHERE</span> <span class="token keyword">date</span><span class="token punctuation">(</span>created_at<span class="token punctuation">)</span><span class="token operator">&gt;=</span><span class="token keyword">date</span><span class="token punctuation">(</span>DATE_ADD<span class="token punctuation">(</span><span class="token variable">@week</span><span class="token punctuation">,</span><span class="token keyword">interval</span> <span class="token number">0</span><span class="token operator">-</span>WEEKDAY<span class="token punctuation">(</span><span class="token variable">@week</span><span class="token punctuation">)</span> <span class="token keyword">day</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">AND</span> <span class="token keyword">date</span><span class="token punctuation">(</span>created_at<span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token keyword">date</span><span class="token punctuation">(</span>DATE_ADD<span class="token punctuation">(</span><span class="token variable">@week</span><span class="token punctuation">,</span><span class="token keyword">interval</span> <span class="token number">4</span><span class="token operator">-</span>WEEKDAY<span class="token punctuation">(</span><span class="token variable">@week</span><span class="token punctuation">)</span> <span class="token keyword">day</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u83B7\u53D6\u672C\u5468\u53D1\u8868\u7684\u6587\u7AE0</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> article <span class="token keyword">WHERE</span> <span class="token keyword">date</span><span class="token punctuation">(</span>created_at<span class="token punctuation">)</span> <span class="token operator">&gt;=</span><span class="token keyword">date</span><span class="token punctuation">(</span>DATE_ADD<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">0</span><span class="token operator">-</span>WEEKDAY<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">day</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5468\u65E5\u6765\u6821\u5B66\u4E60\u7684\u540C\u5B66</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> attendance
<span class="token keyword">WHERE</span> <span class="token keyword">date</span><span class="token punctuation">(</span>created_at<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">date</span><span class="token punctuation">(</span>date_add<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">INTERVAL</span> <span class="token number">6</span> <span class="token operator">-</span> WEEKDAY<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">day</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,132),o=[p];function c(l,i){return s(),a("div",null,o)}var d=n(e,[["render",c],["__file","datetime.html.vue"]]);export{d as default};
