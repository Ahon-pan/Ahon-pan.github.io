import{_ as i,r as l,o as u,c as r,e as a,w as t,a as n,d as o,b as s}from"./app.ede35192.js";const k={},d=o('<h1 id="\u5185\u5EFA\u7EC4\u4EF6\u548C\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#\u5185\u5EFA\u7EC4\u4EF6\u548C\u6A21\u5757" aria-hidden="true">#</a> \u5185\u5EFA\u7EC4\u4EF6\u548C\u6A21\u5757</h1><h2 id="keepalive-\u7EC4\u4EF6\u7684\u5B9E\u73B0\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#keepalive-\u7EC4\u4EF6\u7684\u5B9E\u73B0\u539F\u7406" aria-hidden="true">#</a> KeepAlive \u7EC4\u4EF6\u7684\u5B9E\u73B0\u539F\u7406</h2><h3 id="\u7EC4\u4EF6\u7684\u6FC0\u6D3B\u4E0E\u5931\u6D3B" tabindex="-1"><a class="header-anchor" href="#\u7EC4\u4EF6\u7684\u6FC0\u6D3B\u4E0E\u5931\u6D3B" aria-hidden="true">#</a> \u7EC4\u4EF6\u7684\u6FC0\u6D3B\u4E0E\u5931\u6D3B</h3><div class="custom-container tip"><p class="custom-container-title">KeepAlive</p><p>KeepAlive \u4E00\u8BCD\u501F\u9274\u4E8E HTTP \u534F\u8BAE\u3002\u5728 HTTP \u534F\u8BAE\u4E2D\uFF0CKeepAlive \u53C8\u79F0 HTTP \u6301\u4E45\u8FDE\u63A5\uFF08HTTP persistent connection\uFF09\uFF0C\u5176\u4F5C\u7528\u662F\u5141\u8BB8\u591A\u4E2A\u8BF7\u6C42\u6216\u54CD\u5E94\u5171\u7528\u4E00\u4E2A TCP \u8FDE\u63A5\u3002\u5728\u6CA1\u6709 KeepAlive \u7684\u60C5\u51B5\u4E0B\uFF0C\u4E00\u4E2A HTTP \u8FDE\u63A5\u4F1A\u5728\u6BCF\u6B21\u8BF7\u6C42/\u54CD\u5E94\u7ED3\u675F\u540E\u5173\u95ED\uFF0C\u5F53\u4E0B\u4E00\u6B21\u8BF7\u6C42\u53D1\u751F\u65F6\uFF0C\u4F1A\u5EFA\u7ACB\u4E00\u4E2A\u65B0\u7684 HTTP \u8FDE\u63A5\u3002\u9891\u7E41\u5730\u9500\u6BC1\u3001\u521B\u5EFA HTTP \u8FDE\u63A5\u4F1A\u5E26\u6765\u989D\u5916\u7684\u6027\u80FD\u5F00\u9500\uFF0CKeepAlive \u5C31\u662F\u4E3A\u4E86\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u800C\u751F\u7684\u3002</p></div><p>\u2705 HTTP \u4E2D\u7684 KeepAlive \u53EF\u4EE5\u907F\u514D\u8FDE\u63A5\u9891\u7E41\u5730\u9500\u6BC1/\u521B\u5EFA\uFF0C\u4E0E HTTP \u4E2D\u7684 KeepAlive \u76F8\u4F3C\uFF0CVue.js \u5185\u5EFA\u7684 KeepAlive \u7EC4\u4EF6\u53EF\u4EE5<strong>\u907F\u514D\u4E00\u4E2A\u7EC4\u4EF6\u88AB\u9891\u7E41\u5730\u9500\u6BC1/\u91CD\u5EFA</strong>\u3002</p>',5),m=n("div",{class:"language-html ext-html line-numbers-mode"},[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("Tab")]),s(),n("span",{class:"token attr-name"},"v-if"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("currentTab === 1"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("Tab")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("Tab")]),s(),n("span",{class:"token attr-name"},"v-if"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("currentTab === 2"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("Tab")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("Tab")]),s(),n("span",{class:"token attr-name"},"v-if"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("currentTab === 3"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("Tab")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),v=n("p",null,[s("\u6A21\u677F\u5185\u6839\u636E "),n("code",null,"currentTab"),s(" \u7684\u503C\u4E0D\u540C\uFF0C\u4F1A\u6E32\u67D3\u4E0D\u540C\u7684 "),n("code",null,"<Tab>"),s(" \u7EC4\u4EF6\u3002\u5F53\u7528\u6237\u9891\u7E41\u5730\u5207\u6362 Tab \u65F6\uFF0C\u4F1A\u5BFC\u81F4\u4E0D\u505C\u5730\u5378\u8F7D\u5E76\u91CD\u5EFA\u5BF9\u5E94\u7684 "),n("code",null,"<Tab>"),s(" \u7EC4\u4EF6\u3002\u4E3A\u4E86\u907F\u514D\u56E0\u6B64\u4EA7\u751F\u7684\u6027\u80FD\u5F00\u9500\uFF0C\u53EF\u4EE5\u4F7F\u7528 KeepAlive \u7EC4\u4EF6\u6765\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u3002")],-1),b=n("div",{class:"language-html ext-html line-numbers-mode"},[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("KeepAlive")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("Tab")]),s(),n("span",{class:"token attr-name"},"v-if"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("currentTab === 1"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("Tab")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("Tab")]),s(),n("span",{class:"token attr-name"},"v-if"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("currentTab === 2"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("Tab")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("Tab")]),s(),n("span",{class:"token attr-name"},"v-if"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("currentTab === 3"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("Tab")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("KeepAlive")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),h=n("p",null,"KeepAlive \u80FD\u591F\u907F\u514D\u9891\u7E41\u7684\u521B\u5EFA\u548C\u9500\u6BC1\uFF0C\u56E0\u800C\u4F1A\u6781\u5927\u5730\u4F18\u5316\u5BF9\u7528\u6237\u7684\u64CD\u4F5C\u54CD\u5E94\uFF0C\u6709\u5176\u662F\u5927\u7EC4\u4EF6\u573A\u666F\u4E0B\u3002",-1),g=n("details",{class:"custom-container details"},[n("summary",null,"\u5047\u5378\u8F7D"),n("p",null,[s("KeepAlive \u7EC4\u4EF6\u7684\u5B9E\u73B0\u9700\u8981"),n("strong",null,"\u6E32\u67D3\u5668"),s("\u5C42\u9762\u7684\u652F\u6301\uFF0C\u5B83\u5728\u5378\u8F7D\u65F6\uFF0C\u6211\u4EEC\u4E0D\u80FD\u771F\u7684\u5C06\u5176\u5378\u8F7D\uFF0C\u5426\u5219\u5C31\u65E0\u6CD5\u7EF4\u6301\u7EC4\u4EF6\u5F53\u524D\u7684\u72B6\u6001\u3002\u800C\u662F\u5C06\u88AB KeepAlive \u7684\u7EC4\u4EF6\u4ECE\u539F\u5BB9\u5668\u642C\u8FD0\u5230\u53E6\u5916\u4E00\u4E2A"),n("strong",null,"\u9690\u85CF\u5BB9\u5668"),s("\u4E2D\u3002\u5F53\u88AB\u642C\u8FD0\u5230\u9690\u85CF\u5BB9\u5668\u7684\u7EC4\u4EF6\u518D\u6B21\u88AB\u201C\u6302\u8F7D\u201D\u65F6\uFF0C\u6211\u4EEC\u4E5F\u4E0D\u80FD\u6267\u884C\u771F\u6B63\u7684\u6302\u8F7D\u903B\u8F91\uFF0C\u800C\u5E94\u8BE5\u628A\u8BE5\u7EC4\u4EF6\u4ECE\u9690\u85CF\u5BB9\u5668\u4E2D\u518D\u642C\u8FD0\u5230\u539F\u5BB9\u5668\u3002\u8FD9\u4E2A\u8FC7\u7A0B\u5BF9\u5E94\u7684\u751F\u547D\u5468\u671F\u5C31\u662F "),n("code",null,"activated"),s(" \u548C "),n("code",null,"deactivated")]),n("blockquote",null,[n("p",null,"KeepAlive \u7684\u672C\u8D28\u662F\u7F13\u5B58\u7BA1\u7406\uFF0C\u518D\u52A0\u4E0A\u7279\u6B8A\u7684\u6302\u8F7D/\u5378\u8F7D\u903B\u8F91")])],-1),f=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" KeepAlive "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token comment"},"// KeepAlive \u7EC4\u4EF6\u72EC\u6709\u7684\u5C5E\u6027\u6807\u8BC6"),s(`
    `),n("span",{class:"token literal-property property"},"__isKeepAlive"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function"},"setup"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("props"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(" slots "),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// \u7F13\u5B58\u5BF9\u8C61 Record<vnode.type, vnode>"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" cahche "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Map"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token comment"},"// \u5F53\u524D KeepAlive \u7684\u7EC4\u4EF6\u5B9E\u4F8B"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" instance "),n("span",{class:"token operator"},"="),s(` currentInstance
        `),n("span",{class:"token comment"},"// \u5BF9\u4E8E KeepAlive \u7EC4\u4EF6\u6765\u8BF4\uFF0C\u5B83\u7684\u5B9E\u4F8B\u4E0A\u5B58\u5728\u7279\u6B8A\u7684 KeepAliveCtx \u5BF9\u8C61\uFF0C\u8BE5\u5BF9\u8C61\u7531\u6E32\u67D3\u5668\u6CE8\u5165"),s(`
        `),n("span",{class:"token comment"},"// \u8BE5\u5BF9\u8C61\u66B4\u9732\u4E86\u4E00\u4E9B\u5185\u90E8\u65B9\u6CD5\uFF0Cmove \u5B9E\u73B0 DOM \u7684\u79FB\u52A8\u5230\u5BB9\u5668"),s(`
        `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" move"),n("span",{class:"token punctuation"},","),s(" createElement "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(" instance"),n("span",{class:"token punctuation"},"."),s(`keepAliveCtx

        `),n("span",{class:"token comment"},"// \u521B\u5EFA\u9690\u85CF\u5BB9\u5668"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" storageContainer "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"createElement"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'div'"),n("span",{class:"token punctuation"},")"),s(`

        `),n("span",{class:"token comment"},"// KeepAlive \u7EC4\u4EF6\u7684\u5B9E\u4F8B\u4F1A\u88AB\u6DFB\u52A0\u4E24\u4E2A\u5185\u90E8\u51FD\u6570\uFF0C\u5728\u6E32\u67D3\u5668\u4E2D\u88AB\u8C03\u7528"),s(`
        instance`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function-variable function"},"_deActivate"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"vnode"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"move"),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},","),s(" storageContainer"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        instance`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function-variable function"},"_activate"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("vnode"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"move"),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`

        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token comment"},"// KeepAlive \u7684\u9ED8\u8BA4\u63D2\u69FD\u5185\u5BB9\u5C31\u662F\u8981\u88AB KeepAlive \u7684\u7EC4\u4EF6"),s(`
            `),n("span",{class:"token keyword"},"let"),s(" rawVNode "),n("span",{class:"token operator"},"="),s(" slots"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"default"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token comment"},"// KeepAlive \u53EA\u5904\u7406\u7EC4\u4EF6"),s(`
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"typeof"),s(" rawVNode"),n("span",{class:"token punctuation"},"."),s("type "),n("span",{class:"token operator"},"!=="),s(),n("span",{class:"token string"},"'object'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"return"),s(` rawVNode
            `),n("span",{class:"token punctuation"},"}"),s(`

            `),n("span",{class:"token comment"},"// \u7F13\u5B58\u5904\u7406"),s(`
            `),n("span",{class:"token keyword"},"const"),s(" cachedVNode "),n("span",{class:"token operator"},"="),s(" cache"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get"),n("span",{class:"token punctuation"},"("),s("rawVNode"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("cachedVNode"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token comment"},"// \u6709\u7F13\u5B58\u7EC4\u4EF6\uFF0C\u4E0D\u662F\u6302\u8F7D\uFF0C\u8D70\u6FC0\u6D3B\u903B\u8F91"),s(`
                rawVNode`),n("span",{class:"token punctuation"},"."),s("component "),n("span",{class:"token operator"},"="),s(" cachedVNode"),n("span",{class:"token punctuation"},"."),s(`component
                rawVNode`),n("span",{class:"token punctuation"},"."),s("keptAlive "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"true"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
                cache`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),s("rawVNode"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},","),s(" rawVNode"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`

            `),n("span",{class:"token comment"},"// \u5C5E\u6027\u6807\u8BB0\uFF0C\u907F\u514D\u6E32\u67D3\u5668\u5C06\u7EC4\u4EF6\u5378\u8F7D"),s(`
            rawVNode`),n("span",{class:"token punctuation"},"."),s("shouldKeepAlive "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"true"),s(`
            `),n("span",{class:"token comment"},"// \u6DFB\u52A0 KeepAlive \u7EC4\u4EF6\u7684\u5B9E\u4F8B\u5230 vnode\uFF0C\u65B9\u4FBF\u6E32\u67D3\u5668\u7684\u8BBF\u95EE"),s(`
            rawVNode`),n("span",{class:"token punctuation"},"."),s("keepAliveInstance "),n("span",{class:"token operator"},"="),s(` instance
            `),n("span",{class:"token comment"},"// \u8FD4\u56DE\u88AB KeepAlive \u7684\u7EC4\u4EF6\u672C\u8EAB"),s(`
            `),n("span",{class:"token keyword"},"return"),s(` rawVNode
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),y=n("p",null,[s("KeepAlive \u7EC4\u4EF6\u7684\u5B9E\u73B0\u4E0E\u6E32\u67D3\u5668\u7684\u7ED3\u5408\u8F83\u6DF1\u3002\u9996\u5148\uFF0CKeepAlive \u7EC4\u4EF6\u672C\u8EAB\u5E76\u4E0D\u4F1A\u6E32\u67D3\u989D\u5916\u7684\u5185\u5BB9\uFF0C\u5B83\u7684\u6E32\u67D3\u51FD\u6570\u6700\u7EC8\u53EA\u8FD4\u56DE\u9700\u8981\u88AB KeepAlive \u7684\u7EC4\u4EF6\uFF0C\u8FD9\u4E2A\u9700\u8981\u88AB KeepAlive \u7684\u7EC4\u4EF6\u79F0\u4E3A\u201C"),n("strong",null,"\u5185\u90E8\u7EC4\u4EF6"),s("\u201D\u3002KeepAlive \u7EC4\u4EF6\u4F1A\u5BF9\u201C\u5185\u90E8\u7EC4\u4EF6\u201D\u8FDB\u884C\u64CD\u4F5C\uFF0C\u4E3B\u8981\u662F\u5728\u201C\u5185\u90E8\u7EC4\u4EF6\u201D\u7684 vnode \u5BF9\u8C61\u4E0A\u6DFB\u52A0\u4E00\u4E9B"),n("strong",null,"\u5C5E\u6027\u6807\u8BB0"),s("\uFF0C\u4EE5\u4FBF\u6E32\u67D3\u5668\u636E\u6B64\u6267\u884C\u7279\u5B9A\u7684\u903B\u8F91\u3002")],-1),_=n("blockquote",null,[n("p",null,[n("code",null,"mountComponent"),s("\u5728\u8C03\u7528 "),n("code",null,"setup"),s(" \u51FD\u6570\u4E4B\u524D\u4F1A "),n("code",null,"setCurrentInstance")]),n("p",null,[s("\u7EC4\u4EF6\u7684 "),n("code",null,"setup"),s(" \u51FD\u6570\u91CC\u901A\u8FC7 "),n("code",null,"currentInstance"),s(" \u5C31\u80FD\u62FF\u5230\u5F53\u524D\u7EC4\u4EF6\u7684\u5B9E\u4F8B")]),n("p",null,"\u5B83\u5305\u62EC\u4E86\u5F53\u524D\u7EC4\u4EF6\u7684 state\u3001props\u3001subTree\u3001slots\u3001mounted\u7B49\u7B49\u4FE1\u606F")],-1),w=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"unmount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"vnode"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},"."),s("type "),n("span",{class:"token operator"},"==="),s(" Fragment"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        vnode`),n("span",{class:"token punctuation"},"."),s("children"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"c"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token function"},"unmount"),n("span",{class:"token punctuation"},"("),s("c"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"return"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"typeof"),s(" vnode"),n("span",{class:"token punctuation"},"."),s("type "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'object'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// \u5BF9\u4E8E\u9700\u8981\u88AB KeepAlive \u7684\u7EC4\u4EF6\uFF0C\u6211\u4EEC\u4E0D\u80FD\u771F\u7684\u5378\u8F7D\u5B83\uFF0C\u800C\u662F\u8C03\u7528\u5176\u7236\u7EC4\u4EF6"),s(`
        `),n("span",{class:"token comment"},"// \u5373 KeepAlive \u7EC4\u4EF6\u7684 _deActivate \u51FD\u6570\u4F7F\u5176\u5931\u6D3B"),s(`
        `),n("span",{class:"token comment"},"// keepAliveInstance \u5373 KeepAlive \u7EC4\u4EF6\u5B9E\u4F8B"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},"."),s("shouldKeepAlive"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            vnode`),n("span",{class:"token punctuation"},"."),s("keepAliveInstance"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"_deActivate"),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"unmount"),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},"."),s("component"),n("span",{class:"token punctuation"},"."),s("subTree"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token keyword"},"return"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"const"),s(" parent "),n("span",{class:"token operator"},"="),s(" vnode"),n("span",{class:"token punctuation"},"."),s("el"),n("span",{class:"token punctuation"},"."),s(`parentNode
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("parent"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        parent`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"removeChild"),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},"."),s("el"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),T=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"patch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("n1"),n("span",{class:"token punctuation"},","),s(" n2"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("n1 "),n("span",{class:"token operator"},"&&"),s(" n1"),n("span",{class:"token punctuation"},"."),s("type "),n("span",{class:"token operator"},"!=="),s(" n2"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token function"},"unmount"),n("span",{class:"token punctuation"},"("),s("n1"),n("span",{class:"token punctuation"},")"),s(`
        n1 `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"null"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" type "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(` n2

    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"typeof"),s(" type "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'string'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("n1"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"mountElement"),n("span",{class:"token punctuation"},"("),s("n2"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"patchElement"),n("span",{class:"token punctuation"},"("),s("n1"),n("span",{class:"token punctuation"},","),s(" n2"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("type "),n("span",{class:"token operator"},"==="),s(" Text"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("n1"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"const"),s(" el "),n("span",{class:"token operator"},"="),s(" n2"),n("span",{class:"token punctuation"},"."),s("el "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"createText"),n("span",{class:"token punctuation"},"("),s("n2"),n("span",{class:"token punctuation"},"."),s("children"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token function"},"insert"),n("span",{class:"token punctuation"},"("),s("el"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"const"),s(" el "),n("span",{class:"token operator"},"="),s(" n2"),n("span",{class:"token punctuation"},"."),s("el "),n("span",{class:"token operator"},"="),s(" n1"),n("span",{class:"token punctuation"},"."),s(`el
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("n2"),n("span",{class:"token punctuation"},"."),s("children "),n("span",{class:"token operator"},"!=="),s(" n1"),n("span",{class:"token punctuation"},"."),s("children"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token function"},"setText"),n("span",{class:"token punctuation"},"("),s("el"),n("span",{class:"token punctuation"},","),s(" n2"),n("span",{class:"token punctuation"},"."),s("children"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("type "),n("span",{class:"token operator"},"==="),s(" Fragment"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("n1"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            n2`),n("span",{class:"token punctuation"},"."),s("children"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"c"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token function"},"patch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},","),s(" c"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"patchChildren"),n("span",{class:"token punctuation"},"("),s("n1"),n("span",{class:"token punctuation"},","),s(" n2"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"typeof"),s(" type "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'object'"),s(),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token keyword"},"typeof"),s(" type "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'function'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("n1"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token comment"},"// \u5982\u679C\u8BE5\u7EC4\u4EF6\u4EE5\u53CA\u88AB KeepAlive,\u5219\u4E0D\u4F1A\u91CD\u65B0\u6302\u8F7D\uFF0C\u800C\u662F\u8C03\u7528 _activate \u6765\u6FC0\u6D3B\u5B83"),s(`
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("n2"),n("span",{class:"token punctuation"},"."),s("keptAlive"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                n2`),n("span",{class:"token punctuation"},"."),s("keepAliveInstance"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"_activate"),n("span",{class:"token punctuation"},"("),s("n2"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token function"},"mountComponent"),n("span",{class:"token punctuation"},"("),s("n2"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"patchComponent"),n("span",{class:"token punctuation"},"("),s("n1"),n("span",{class:"token punctuation"},","),s(" n2"),n("span",{class:"token punctuation"},","),s(" anchor"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),A=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"mountComponent"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("vnode"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token comment"},"// ..."),s(`

    `),n("span",{class:"token keyword"},"const"),s(" instance "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
        state`),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"props"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token function"},"shallowReactive"),n("span",{class:"token punctuation"},"("),s("props"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"isMounted"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"subTree"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},","),s(`
        slots`),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"mounted"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"keepAliveCtx"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token keyword"},"null"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"const"),s(" isKeepAlive "),n("span",{class:"token operator"},"="),s(" vnode"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},"."),s(`__isKeepAlive
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("isKeepAlive"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        instance`),n("span",{class:"token punctuation"},"."),s("keepAliveCtx "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"move"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("vnode"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token function"},"insert"),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},"."),s("component"),n("span",{class:"token punctuation"},"."),s("subTree"),n("span",{class:"token punctuation"},"."),s("el"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
            createElement
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

  `),n("span",{class:"token comment"},"// ..."),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"},"\xA0"),n("br"),n("br"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("br"),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),x=o('<div class="custom-container tip"><p class="custom-container-title">\u603B\u7ED3</p><ul><li><code>shouldKeepAlive</code>: \u8BE5\u5C5E\u6027\u88AB\u6DFB\u52A0\u5230\u201C\u5185\u90E8\u7EC4\u4EF6\u201D\u7684 vnode \u5BF9\u8C61\u4E0A\uFF0C\u8FD9\u6837\u5F53\u6E32\u67D3\u5668\u5378\u8F7D\u201C\u5185\u90E8\u7EC4\u4EF6\u201D\u65F6\uFF0C\u53EF\u4EE5\u901A\u8FC7\u68C0\u67E5\u8BE5\u5C5E\u6027\u5F97\u77E5\u201C\u5185\u90E8\u7EC4\u4EF6\u201D\u9700\u8981\u88AB KeepAlive\u3002\u4E8E\u662F\uFF0C\u6E32\u67D3\u5668\u5C31\u4E0D\u4F1A\u771F\u7684\u5378\u8F7D\u201C\u5185\u90E8\u7EC4\u4EF6\u201D\uFF0C\u800C\u662F\u4F1A\u8C03\u7528 <code>_deActivate</code> \u51FD\u6570\u5B8C\u6210\u642C\u8FD0\u5DE5\u4F5C\u3002</li><li><code>keepAliveInstance</code>\uFF1A\u201C\u5185\u90E8\u7EC4\u4EF6\u201D\u7684 vnode \u5BF9\u8C61\u4F1A\u6301\u6709 <strong>KeepAlive \u7EC4\u4EF6\u5B9E\u4F8B</strong>\uFF0C\u5728 <code>unmount</code> \u51FD\u6570\u4E2D\u4F1A\u901A\u8FC7 keepAliveInstance \u6765\u8BBF\u95EE <code>_deActivate</code> \u51FD\u6570\u3002</li><li><code>KeptAlive</code>\uFF1A\u201C\u5185\u90E8\u7EC4\u4EF6\u201D\u5982\u679C\u5DF2\u7ECF\u88AB\u7F13\u5B58\uFF0C\u5219\u8FD8\u4F1A\u4E3A\u5176\u6DFB\u52A0\u4E00\u4E2A <code>KeptAlive</code>\u6807\u8BB0\u3002\u8FD9\u6837\u5F53\u201C\u5185\u90E8\u7EC4\u4EF6\u201D\u9700\u8981\u91CD\u65B0\u6E32\u67D3\u65F6\uFF0C\u6E32\u67D3\u5668\u5E76\u4E0D\u4F1A\u91CD\u65B0\u6302\u8F7D\u5B83\uFF0C\u800C\u4F1A\u5C06\u5176\u6FC0\u6D3B\u3002</li></ul></div><h3 id="include-\u548C-exclude" tabindex="-1"><a class="header-anchor" href="#include-\u548C-exclude" aria-hidden="true">#</a> include \u548C exclude</h3><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0CKeepAlive \u7EC4\u4EF6\u4F1A\u5BF9\u6240\u6709\u201C\u5185\u90E8\u7EC4\u4EF6\u201D\u8FDB\u884C\u7F13\u5B58\u3002\u4F46\u6709\u65F6\u5019\u7528\u6237\u671F\u671B\u53EA\u7F13\u5B58\u7279\u5B9A\u7EC4\u4EF6\uFF0C\u56E0\u6B64\u5176\u652F\u6301\u4E86\u4E24\u4E2A props\uFF0C\u5206\u522B\u662F <code>include</code> \u548C <code>exclude</code>\u3002</p><blockquote><p><code>include</code>\uFF1A\u663E\u5F0F\u914D\u7F6E\u5E94\u8BE5\u88AB\u7F13\u5B58\u7684\u7EC4\u4EF6</p><p><code>exclude</code>\uFF1A\u663E\u5F0F\u914D\u7F6E\u4E0D\u5E94\u8BE5\u88AB\u7F13\u5B58\u7684\u7EC4\u4EF6</p></blockquote>',4),j=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" KeepAlive "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"__isKeepAlive"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"props"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token literal-property property"},"include"),n("span",{class:"token operator"},":"),s(" RegExp"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"exclude"),n("span",{class:"token operator"},":"),s(` RegExp
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function"},"setup"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("props"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(" slots "),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// ..."),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),K=n("p",null,[s("\u8FD9\u91CC\u4E3A\u4E86\u7B80\u5316\u95EE\u9898\uFF0C\u53EA\u5141\u8BB8\u4E3A "),n("code",null,"include"),s(" \u548C "),n("code",null,"exclude"),s(" \u8BBE\u7F6E\u6B63\u5219\u7C7B\u578B\u7684\u503C\u3002\u5728 KeepAlive \u7EC4\u4EF6\u88AB\u6302\u8F7D\u65F6\uFF0C\u5B83\u4F1A\u6839\u636E\u201C\u5185\u90E8\u7EC4\u4EF6\u201D\u7684\u540D\u79F0\uFF08\u5373 name \u9009\u9879\uFF09\u8FDB\u884C\u5339\u914D\u3002")],-1),V=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" KeepAlive "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"__isKeepAlive"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token literal-property property"},"props"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token literal-property property"},"include"),n("span",{class:"token operator"},":"),s(" RegExp"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"exclude"),n("span",{class:"token operator"},":"),s(` RegExp
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function"},"setup"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("props"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(" slots "),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// ..."),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"let"),s(" rawVNode "),n("span",{class:"token operator"},"="),s(" slots"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"default"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"typeof"),s(" rawVNode"),n("span",{class:"token punctuation"},"."),s("type "),n("span",{class:"token operator"},"!=="),s(),n("span",{class:"token string"},"'object'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"return"),s(` rawVNode
            `),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token comment"},"// \u83B7\u53D6\u5185\u90E8\u7EC4\u4EF6\u7684 name"),s(`
            `),n("span",{class:"token keyword"},"const"),s(" name "),n("span",{class:"token operator"},"="),s(" rawVNode"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},"."),s(`name
            `),n("span",{class:"token comment"},"// \u5BF9 name \u8FDB\u884C\u5339\u914D"),s(`
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s(`
                name `),n("span",{class:"token operator"},"&&"),s(`
                `),n("span",{class:"token punctuation"},"("),s(`
                    `),n("span",{class:"token comment"},"// \u5982\u679C name \u65E0\u6CD5\u88AB include \u5339\u914D"),s(`
                    `),n("span",{class:"token punctuation"},"("),s("props"),n("span",{class:"token punctuation"},"."),s("include "),n("span",{class:"token operator"},"&&"),s(),n("span",{class:"token operator"},"!"),s("props"),n("span",{class:"token punctuation"},"."),s("include"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"test"),n("span",{class:"token punctuation"},"("),s("name"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"||"),s(`
                    `),n("span",{class:"token comment"},"// \u6216\u8005\u88AB exclude \u5339\u914D"),s(`
                    `),n("span",{class:"token punctuation"},"("),s("props"),n("span",{class:"token punctuation"},"."),s("exclude "),n("span",{class:"token operator"},"&&"),s(" props"),n("span",{class:"token punctuation"},"."),s("exclude"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"test"),n("span",{class:"token punctuation"},"("),s("name"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token comment"},"// \u5219\u76F4\u63A5\u6E32\u67D3\u201C\u5185\u90E8\u7EC4\u4EF6\u201D\uFF0C\u4E0D\u5BF9\u5176\u8FDB\u884C\u540E\u7EED\u7684\u7F13\u5B58\u64CD\u4F5C"),s(`
                `),n("span",{class:"token keyword"},"return"),s(` rawVNode
            `),n("span",{class:"token punctuation"},"}"),s(`

            `),n("span",{class:"token comment"},"// ,,,"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),E=o(`<p>\u2705 \u76EE\u524D\u901A\u8FC7\u6B63\u5219\u5339\u914D\u7ED3\u679C\u5224\u65AD\u662F\u5426\u8981\u5BF9\u201C\u5185\u90E8\u7EC4\u4EF6\u201D\u8FDB\u884C\u7F13\u5B58\u3002\u5728\u6B64\u57FA\u7840\u4E0A\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4EFB\u610F\u6269\u5145\u5339\u914D\u80FD\u529B\u3002\u4F8B\u5982\uFF0C\u5C06 include \u548C exclude \u8BBE\u8BA1\u6210\u591A\u79CD\u7C7B\u578B\u503C\uFF0C\u5141\u8BB8\u7528\u6237\u6307\u5B9A\u5B57\u7B26\u4E32\u6216\u51FD\u6570\uFF0C\u4ECE\u800C\u63D0\u4F9B\u66F4\u52A0\u7075\u6D3B\u7684\u5339\u914D\u673A\u5236\u3002\u53E6\u5916\uFF0C\u5728\u505A\u5339\u914D\u65F6\uFF0C\u4E5F\u53EF\u4EE5\u4E0D\u9650\u4E8E\u201C\u5185\u90E8\u7EC4\u4EF6\u201D\u7684\u540D\u79F0\uFF0C\u6211\u4EEC\u751A\u81F3\u53EF\u4EE5\u8BA9\u7528\u6237\u81EA\u884C\u6307\u5B9A\u5339\u914D\u8981\u7D20\u3002</p><p>\u4F46\u662F\u65E0\u8BBA\u5982\u4F55\uFF0C\u5176\u539F\u7406\u90FD\u662F\u4E0D\u53D8\u7684\u3002</p><h3 id="\u7F13\u5B58\u7BA1\u7406" tabindex="-1"><a class="header-anchor" href="#\u7F13\u5B58\u7BA1\u7406" aria-hidden="true">#</a> \u7F13\u5B58\u7BA1\u7406</h3><p>\u76EE\u524D\u7684\u7F13\u5B58\u5904\u7406\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> KeepAlive <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">__isKeepAlive</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> slots <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> cahche <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> cachedVNode <span class="token operator">=</span> cache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>rawVNode<span class="token punctuation">.</span>type<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cachedVNode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// \u6709\u7F13\u5B58\u7EC4\u4EF6\uFF0C\u4E0D\u662F\u6302\u8F7D\uFF0C\u8D70\u6FC0\u6D3B\u903B\u8F91</span>
                rawVNode<span class="token punctuation">.</span>component <span class="token operator">=</span> cachedVNode<span class="token punctuation">.</span>component
                rawVNode<span class="token punctuation">.</span>keptAlive <span class="token operator">=</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                cache<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>rawVNode<span class="token punctuation">.</span>type<span class="token punctuation">,</span> rawVNode<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
			<span class="token comment">// ...</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">\u7F13\u5B58\u7BA1\u7406</p><ul><li><p>\u8FD9\u91CC\u7684\u95EE\u9898\u5728\u4E8E\uFF0C\u5F53\u7F13\u5B58\u4E0D\u5728\u65F6\uFF0C\u603B\u662F\u4F1A\u8BBE\u7F6E\u65B0\u7684\u7F13\u5B58\u3002\u6211\u4EEC\u9700\u8981\u4E00\u4E2A<strong>\u9608\u503C</strong>\u9632\u6B62\u7F13\u5B58\u65E0\u9650\u589E\u52A0\uFF0C\u5F53\u7F13\u5B58\u6570\u91CF\u8D85\u8FC7\u6307\u5B9A\u9608\u503C\u65F6\u5BF9\u7F13\u5B58\u8FDB\u884C\u4FEE\u526A\u3002</p></li><li><p>Vue.js \u5F53\u524D\u6240\u91C7\u7528\u7684\u4FEE\u526A\u7B56\u7565\u53EB\u505A\u201C<strong>\u6700\u65B0\u4E00\u6B21\u8BBF\u95EE</strong>\u201D\uFF0C\u628A\u5F53\u524D\u8BBF\u95EE\uFF08\u6216\u6E32\u67D3\uFF09\u7684\u7EC4\u4EF6\u4F5C\u4E3A\u6700\u65B0\u4E00\u6B21\u6E32\u67D3\u7684\u7EC4\u4EF7\uFF0C\u5E76\u4E14\u8BE5\u7EC4\u4EF6\u5728\u7F13\u5B58\u4FEE\u526A\u8FC7\u7A0B\u4E2D\u59CB\u7EC8\u662F\u5B89\u5168\u7684\uFF0C\u5373\u4E0D\u4F1A\u88AB\u4FEE\u526A\u7684\u3002</p><p>Tips: \u53EF\u4EE5\u7EF4\u62A4\u4E00\u4E2A\u7F13\u5B58\u961F\u5217\uFF0C\u8BBF\u95EE\u6216\u6E32\u67D3\u65F6\u628A\u7EC4\u4EF6\u4F4D\u7F6E\u653E\u5230\u961F\u5C3E\uFF0C\u8D85\u8FC7\u9608\u503C\u79FB\u9664\u961F\u9996\u7F13\u5B58</p></li><li><p>\u6211\u4EEC\u7684\u5173\u6CE8\u70B9\u662F\u7F13\u5B58\u7B56\u7565\u80FD\u5426\u6539\u53D8\uFF1F\u751A\u81F3\u8FD0\u884C\u7528\u6237\u81EA\u5B9A\u4E49\u7F13\u5B58\u7B56\u7565\uFF1F\u4E3A\u6B64\uFF0CVue.js \u5728\u7528\u6237\u63A5\u53E3\u5C42\u9762\u65B0\u589E\u4E86 <code>cache</code> \u63A5\u53E3\uFF0C\u8FD0\u884C\u7528\u6237<strong>\u6307\u5B9A\u7F13\u5B58\u7B56\u7565</strong>\u3002</p></li></ul></div>`,6),N=n("div",{class:"language-html ext-html line-numbers-mode"},[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("KeepAlive")]),s(),n("span",{class:"token attr-name"},":max"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("2"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("component")]),s(),n("span",{class:"token attr-name"},":is"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("dynamicComp"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("KeepAlive")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),q=n("div",{class:"language-html ext-html line-numbers-mode"},[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("KeepAlive")]),s(),n("span",{class:"token attr-name"},":cache"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("cache"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("Comp")]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("KeepAlive")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),C=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" _cache "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"Map"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token literal-property property"},"cache"),n("span",{class:"token operator"},":"),s(" KeepAliveCache "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
	`),n("span",{class:"token function"},"get"),n("span",{class:"token punctuation"},"("),s("key"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        _cache`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"get"),n("span",{class:"token punctuation"},"("),s("key"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),s("key"),n("span",{class:"token punctuation"},","),s(" value"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        _cache`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"set"),n("span",{class:"token punctuation"},"("),s("key"),n("span",{class:"token punctuation"},","),s(" value"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token keyword"},"delete"),n("span",{class:"token punctuation"},"("),s("key"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        _cache`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"delete"),n("span",{class:"token punctuation"},"("),s("key"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"fn"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        _cache`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),s("fn"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),L=o(`<p>\u5728 KeepAlive \u7EC4\u4EF6\u7684\u5185\u90E8\u5B9E\u73B0\u4E2D\uFF0C\u5982\u679C\u7528\u6237\u63D0\u4F9B\u4E86\u81EA\u5B9A\u4E49\u7684\u7F13\u5B58\u5B9E\u4F8B\uFF0C\u5219\u76F4\u63A5\u4F7F\u7528\u8BE5\u7F13\u5B58\u5B9E\u4F8B\u6765\u7BA1\u7406\u7F13\u5B58\u3002\u4ECE\u672C\u8D28\u4E0A\u6765\u8BF4\uFF0C\u8FD9\u7B49\u4EF7\u4E8E\u5C06\u7F13\u5B58\u7684\u7BA1\u7406\u6743\u9650\u4ECE KeepAlive \u7EC4\u4EF6\u8F6C\u4EA4\u7ED9\u7528\u6237\u4E86\u3002</p><h2 id="teleport-\u7EC4\u4EF6\u7684\u5B9E\u73B0\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#teleport-\u7EC4\u4EF6\u7684\u5B9E\u73B0\u539F\u7406" aria-hidden="true">#</a> Teleport \u7EC4\u4EF6\u7684\u5B9E\u73B0\u539F\u7406</h2><h3 id="teleport-\u7EC4\u4EF6\u8981\u89E3\u51B3\u7684\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#teleport-\u7EC4\u4EF6\u8981\u89E3\u51B3\u7684\u95EE\u9898" aria-hidden="true">#</a> Teleport \u7EC4\u4EF6\u8981\u89E3\u51B3\u7684\u95EE\u9898</h3><p>\u901A\u5E38\u60C5\u51B5\u4E0B\uFF0C\u5728\u5C06\u865A\u62DF DOM \u6E32\u67D3\u4E3A\u771F\u5B9E DOM \u65F6\uFF0C\u6700\u7EC8\u6E32\u67D3\u51FA\u6765\u7684\u771F\u662F DOM \u7684\u5C42\u7EA7\u7ED3\u6784\u4E0E\u865A\u62DF DOM \u7684\u5C42\u7EA7\u7ED3\u6784\u4E00\u81F4\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">z-index</span><span class="token punctuation">:</span> -1</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Overlay</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u76EE\u524D\u60C5\u51B5\u4E0B\uFF0C\u5047\u8BBE<code>&lt;Overlay&gt;</code>\u662F\u4E2A\u201C\u8499\u5C42\u201D\u7EC4\u4EF6\uFF0C\u5B83\u4F1A\u88AB\u6E32\u67D3\u5230 id \u4E3A box \u7684 div \u6807\u7B7E\u4E0B\u3002\u4F46\u662F\u7531\u4E8E div \u7684 z-index \u8BBE\u7F6E\uFF0C\u8FD9\u5BFC\u81F4\u5373\u4F7F\u6211\u4EEC\u5C06 <code>&lt;Overlay&gt;</code>\u7EC4\u4EF6\u6240\u6E32\u67D3\u7684\u5185\u5BB9\u7684 z-inde \u503C\u8BBE\u7F6E\u4E3A\u65E0\u7A77\u5927\uFF0C\u4E5F\u65E0\u6CD5\u5B9E\u73B0\u906E\u6321\u529F\u80FD\u3002</p>`,6),M=s("\u{1F310} "),O={href:"http://localhost:3000/note/daily.html#%E7%AE%80%E6%98%93%E4%BC%A0%E9%80%81%E9%97%A8%E7%BB%84%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},D=s("Vue.js 2 \u5B9E\u73B0\u7B80\u6613\u4F20\u9001\u95E8\u7EC4\u4EF6 (opens new window)"),R=n("p",null,"\u901A\u5E38\uFF0C\u6211\u4EEC\u5728\u4E0A\u8FF0\u573A\u666F\u4E0B\uFF0C\u4F1A\u9009\u62E9\u76F4\u63A5\u5728 body \u6807\u7B7E\u4E0B\u6E32\u67D3\u201C\u8499\u5C42\u201D\u5185\u5BB9\u3002",-1),F=n("p",null,"\u5728Vue.js 2 \u4E2D\u6211\u4EEC\u53EA\u80FD\u901A\u8FC7\u539F\u751F DOM API \u6765\u624B\u52A8\u642C\u8FD0 DOM \u5143\u7D20\u5B9E\u73B0\u9700\u6C42\u3002\u8FD9\u4E48\u505A\u7684\u7F3A\u70B9\u5728\u4E8E\uFF0C\u624B\u52A8\u64CD\u4F5C DOM \u5143\u7D20\u4F1A\u4F7F\u5F97\u5143\u7D20\u7684\u5F90\u6E32\u67D3\u4E0E Vue.js \u7684\u6E32\u67D3\u673A\u5236\u8131\u8282\uFF0C\u5E76\u5BFC\u81F4\u5404\u79CD\u53EF\u9884\u89C1\u6216\u4E0D\u53EF\u9884\u89C1\u7684\u95EE\u9898\u3002",-1),I=o(`<p>\u2705 Teleport \u7EC4\u4EF6\u53EF\u4EE5\u5C06\u6307\u5B9A\u5185\u5BB9\u6E32\u67D3\u5230\u7279\u5B9A\u5BB9\u5668\u4E2D\uFF0C\u800C\u4E0D\u53D7 DOM \u5C42\u7EA7\u7684\u9650\u5236\u3002</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Teleport</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>body<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>overlay<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Teleport</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.overlay</span> <span class="token punctuation">{</span>
        <span class="token property">z-index</span><span class="token punctuation">:</span> 999
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u89C1\uFF0CTeleport \u7EC4\u4EF6\u8981\u6E32\u67D3\u7684\u5185\u5BB9\u90FD\u5305\u542B\u5728 Teleport \u7EC4\u4EF6\u5185\uFF0C\u5373\u4F5C\u4E3A Teleport \u7EC4\u4EF6\u7684\u63D2\u69FD\u3002\u901A\u8FC7\u4E3A Teleport \u7EC4\u4EF6\u6307\u5B9A\u6E32\u67D3\u76EE\u6807 body\uFF0C\u5373 to \u5C5E\u6027\u7684\u503C\uFF0C\u8BE5\u7EC4\u4EF6\u5C31\u4F1A\u76F4\u63A5\u628A\u5B83\u7684\u63D2\u69FD\u5185\u5BB9\u6E32\u67D3\u5230 body \u4E0B\uFF0C\u800C\u4E0D\u4F1A\u6309\u7167\u6A21\u677F\u7684 DOM \u5C42\u7EA7\u6765\u6E32\u67D3\uFF0C\u4E8E\u662F\u5C31<strong>\u5B9E\u73B0\u4E86\u8DE8 DOM \u5C42\u7EA7\u7684\u6E32\u67D3</strong>\u3002</p><h3 id="\u5B9E\u73B0-teleport-\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0-teleport-\u7EC4\u4EF6" aria-hidden="true">#</a> \u5B9E\u73B0 Teleport \u7EC4\u4EF6</h3><p>Teleport \u7EC4\u4EF6\u7684\u5B9E\u73B0\u4E5F\u9700\u8981\u6E32\u67D3\u5668\u7684\u5E95\u5C42\u652F\u6301\u3002</p>`,5),P=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"patch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("n1"),n("span",{class:"token punctuation"},","),s(" n2"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("n1 "),n("span",{class:"token operator"},"&&"),s(" n1"),n("span",{class:"token punctuation"},"."),s("type "),n("span",{class:"token operator"},"!=="),s(" n2"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token function"},"unmount"),n("span",{class:"token punctuation"},"("),s("n1"),n("span",{class:"token punctuation"},")"),s(`
        n1 `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"null"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" type "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(` n2
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"typeof"),s(" type "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'string'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// ..."),s(`
    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("type "),n("span",{class:"token operator"},"==="),s(" Text"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// ..."),s(`
    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("type "),n("span",{class:"token operator"},"==="),s(" Fragment"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// ..."),s(`
    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"typeof"),s(" type "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'object'"),s(),n("span",{class:"token operator"},"&&"),s(" type"),n("span",{class:"token punctuation"},"."),s("__isTeleport"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// \u7EC4\u4EF6\u9009\u9879\u4E2D\u5982\u679C\u5B58\u5728 __isTeleport \u6807\u8BC6\uFF0C\u5219\u5B83\u662F Teleport \u7EC4\u4EF6"),s(`
        `),n("span",{class:"token comment"},"// \u8C03\u7528 Teleport \u7EC4\u4EF6\u9009\u9879\u4E2D\u7684 process \u51FD\u6570\u5C06\u63A7\u5236\u5668\u4EA4\u51FA\u53BB"),s(`
        `),n("span",{class:"token comment"},"// \u4F20\u9012\u7ED9 process \u51FD\u6570\u7684\u7B2C\u4E94\u4E2A\u53C2\u6570\u662F\u6E32\u67D3\u5668\u7684\u4E00\u4E9B\u5185\u90E8\u65B9\u6CD5"),s(`
        type`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"process"),n("span",{class:"token punctuation"},"("),s("n1"),n("span",{class:"token punctuation"},","),s(" n2"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
            patch`),n("span",{class:"token punctuation"},","),s(`
            patchChildren`),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token function"},"move"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("vnode"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token function"},"insert"),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},"."),s("component "),n("span",{class:"token operator"},"?"),s(" vnode"),n("span",{class:"token punctuation"},"."),s("component"),n("span",{class:"token punctuation"},"."),s("subTree"),n("span",{class:"token punctuation"},"."),s("el "),n("span",{class:"token operator"},":"),s(" vnode"),n("span",{class:"token punctuation"},"."),s("el"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"typeof"),s(" type "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'object'"),s(),n("span",{class:"token operator"},"||"),s(),n("span",{class:"token keyword"},"typeof"),s(" type "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'function'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// component ..."),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"},"\xA0"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("div",{class:"highlight-line"},"\xA0"),n("br"),n("br"),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),H=n("p",null,"\u{1F680} \u9996\u5148\u8981\u628A Teleport \u7EC4\u4EF6\u7684\u6E32\u67D3\u903B\u8F91\u4ECE\u6E32\u67D3\u5668\u4E2D\u5206\u79BB\u51FA\u6765\uFF1A",-1),B=n("ul",null,[n("li",null,"\u53EF\u4EE5\u907F\u514D\u6E32\u67D3\u5668\u903B\u8F91\u4EE3\u7801\u201C\u81A8\u80C0\u201D\uFF1B"),n("li",null,"\u5F53\u7528\u6237\u6CA1\u6709\u4F7F\u7528 Teleport \u7EC4\u4EF6\u65F6\uFF0C\u7531\u4E8E Teleport \u7684\u6E32\u67D3\u903B\u8F91\u88AB\u5206\u79BB\uFF0C\u56E0\u6B64\u53EF\u4EE5\u5229\u7528 Tree-Shaking \u673A\u5236\u5728\u6700\u7EC8\u7684 bundle \u4E2D\u5220\u9664 Teleport \u76F8\u5173\u7684\u4EE3\u7801\uFF0C\u4F7F\u5F97\u6700\u7EC8\u6784\u5EFA\u5305\u7684\u4F53\u79EF\u53D8\u5C0F\u3002")],-1),S=s("\u{1F310} "),z={href:"http://localhost:3000/VueJs3/section1/chapter2.html#%E8%89%AF%E5%A5%BD%E7%9A%84tree-shaking",target:"_blank",rel:"noopener noreferrer"},G=s("\u826F\u597D\u7684tree-shaking (opens new window)"),X=n("blockquote",null,[n("p",null,[s("\u901A\u8FC7"),n("code",null,"__isTeleport"),s("\u6807\u8BC6\u5224\u65AD\u662F\u5426\u662F Teleport \u7EC4\u4EF6\uFF0C\u7136\u540E\u8C03\u7528\u7EC4\u4EF6\u9009\u9879\u4E2D\u7684 process \u51FD\u6570\u5C06\u6E32\u67D3\u63A7\u5236\u6743\u5B8C\u5168\u4EA4\u63A5\u51FA\u53BB\uFF0C\u8FD9\u6837\u5C31\u5B9E\u73B0\u4E86\u6E32\u67D3\u903B\u8F91\u7684\u5206\u79BB\u3002")])],-1),J=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" Teleport "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"__isTeleport"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`

    `),n("span",{class:"token function"},"process"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("n1"),n("span",{class:"token punctuation"},","),s(" n2"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor"),n("span",{class:"token punctuation"},","),s(" internals")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// \u5728\u8FD9\u91CC\u5904\u7406\u6E32\u67D3\u903B\u8F91"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Q=n("p",null,[s("Teleport \u548C\u666E\u901A\u7EC4\u4EF6\u4E0D\u540C\uFF0C\u5B83\u6709\u7279\u6B8A\u7684\u9009\u9879"),n("code",null,"__isTeleport"),s("\u548C"),n("code",null,"process"),s("\u3002")],-1),U=n("div",{class:"language-html ext-html line-numbers-mode"},[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("Teleport")]),s(),n("span",{class:"token attr-name"},"to"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("body"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("h1")]),n("span",{class:"token punctuation"},">")]),s("title"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("h1")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("p")]),n("span",{class:"token punctuation"},">")]),s("content"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("p")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("Teleport")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),W=n("p",null,"\u5047\u8BBE\u7528\u6237\u7F16\u5199\u7684\u4E00\u4E2A\u6A21\u677F\u5982\u4E0A",-1),Y=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"render"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token literal-property property"},"type"),n("span",{class:"token operator"},":"),s(" Teleport"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token comment"},"// \u4EE5\u666E\u901A children \u7684\u5F62\u5F0F\u4EE3\u8868\u88AB Teleport \u7684\u5185\u5BB9"),s(`
        `),n("span",{class:"token literal-property property"},"children"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
            `),n("span",{class:"token punctuation"},"{"),n("span",{class:"token literal-property property"},"type"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'h1'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token literal-property property"},"children"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'title'"),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token punctuation"},"{"),n("span",{class:"token literal-property property"},"type"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'p'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token literal-property property"},"children"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'content'"),s(),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"]"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Z=n("p",null,"\u901A\u5E38\u4E00\u4E2A\u7EC4\u4EF6\u7684\u5B50\u8282\u70B9\u4F1A\u88AB\u7F16\u8BD1\u4E3A\u63D2\u69FD\u5185\u5BB9\uFF0C\u4E0D\u8FC7\u5BF9\u4E8E Teleport \u7EC4\u4EF6\u6765\u8BF4\uFF0C\u76F4\u63A5\u5C06\u5176\u5B50\u8282\u70B9\u7F16\u8BD1\u4E3A\u4E00\u4E2A\u6570\u7EC4\u5373\u53EF\u3002",-1),$=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" Teleport "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"__isTeleport"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function"},"process"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("n1"),n("span",{class:"token punctuation"},","),s(" n2"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor"),n("span",{class:"token punctuation"},","),s(" internals")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// \u901A\u8FC7 internals \u53C2\u6570\u53D6\u5F97\u6E32\u67D3\u5668\u7684\u5185\u90E8\u65B9\u6CD5"),s(`
        `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token punctuation"},"{"),s(" patch"),n("span",{class:"token punctuation"},","),s(" patchChildren"),n("span",{class:"token punctuation"},","),s(" move "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token operator"},"="),s(` internals
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("n1"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token comment"},"// \u6302\u8F7D\uFF0C\u83B7\u53D6\u5BB9\u5668\uFF0C\u5373\u6302\u8F7D\u70B9"),s(`
            `),n("span",{class:"token keyword"},"const"),s(" target "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"typeof"),s(" n2"),n("span",{class:"token punctuation"},"."),s("props"),n("span",{class:"token punctuation"},"."),s("to "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'string'"),s(`
            `),n("span",{class:"token operator"},"?"),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"querySelector"),n("span",{class:"token punctuation"},"("),s("n2"),n("span",{class:"token punctuation"},"."),s("props"),n("span",{class:"token punctuation"},"."),s("to"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token operator"},":"),s(" n2"),n("span",{class:"token punctuation"},"."),s("props"),n("span",{class:"token punctuation"},"."),s(`to
            n2`),n("span",{class:"token punctuation"},"."),s("children"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"c"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token function"},"patch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},","),s(" c"),n("span",{class:"token punctuation"},","),s(" target"),n("span",{class:"token punctuation"},","),s(" anchor"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token comment"},"// \u66F4\u65B0"),s(`
            `),n("span",{class:"token function"},"patchChildren"),n("span",{class:"token punctuation"},"("),s("n1"),n("span",{class:"token punctuation"},","),s(" n2"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("n2"),n("span",{class:"token punctuation"},"."),s("props"),n("span",{class:"token punctuation"},"."),s("to "),n("span",{class:"token operator"},"!=="),s(" n1"),n("span",{class:"token punctuation"},"."),s("props"),n("span",{class:"token punctuation"},"."),s("to"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"const"),s(" newTarget "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"typeof"),s(" n2"),n("span",{class:"token punctuation"},"."),s("props"),n("span",{class:"token punctuation"},"."),s("to "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'string'"),s(`
                `),n("span",{class:"token operator"},"?"),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"querySelector"),n("span",{class:"token punctuation"},"("),s("n2"),n("span",{class:"token punctuation"},"."),s("props"),n("span",{class:"token punctuation"},"."),s("to"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token operator"},":"),s(" n2"),n("span",{class:"token punctuation"},"."),s("props"),n("span",{class:"token punctuation"},"."),s(`to
                n2`),n("span",{class:"token punctuation"},"."),s("children"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"c"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token function"},"move"),n("span",{class:"token punctuation"},"("),s("c"),n("span",{class:"token punctuation"},","),s(" newTarget"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),nn=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"typeof"),s(" type "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'object'"),s(),n("span",{class:"token operator"},"&&"),s(" type"),n("span",{class:"token punctuation"},"."),s("__isTeleport"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    type`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"process"),n("span",{class:"token punctuation"},"("),s("n1"),n("span",{class:"token punctuation"},","),s(" n2"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
        patch`),n("span",{class:"token punctuation"},","),s(`
        patchChildren`),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token function"},"move"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("vnode"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"insert"),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},"."),s("component "),n("span",{class:"token operator"},"?"),s(" vnode"),n("span",{class:"token punctuation"},"."),s("component"),n("span",{class:"token punctuation"},"."),s("subTree"),n("span",{class:"token punctuation"},"."),s("el "),n("span",{class:"token operator"},":"),s(" vnode"),n("span",{class:"token punctuation"},"."),s("el"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),sn=n("p",null,"\u{1F4A1} \u76EE\u524D\u4EE3\u7801\u53EA\u8003\u8651\u4E86\u79FB\u52A8\u7EC4\u4EF6\u548C\u666E\u901A\u5143\u7D20\u3002\u865A\u62DF\u8282\u70B9\u5B9E\u9645\u4E0A\u6709\u5F88\u591A\u79CD\uFF0C\u4F8B\u5982\u6587\u672C\u3001\u7247\u6BB5\u7C7B\u578B\u7B49\u3002\u4E00\u4E2A\u5B8C\u5584\u7684\u5B9E\u73B0\u5E94\u8BE5\u8003\u8651\u6240\u6709\u8FD9\u4E9B\u865A\u62DF\u8282\u70B9\u7684\u7C7B\u578B\u3002",-1),an=o('<div class="custom-container tip"><p class="custom-container-title">Teleport \u7EC4\u4EF6\u5B9E\u73B0</p><p>\u2705 \u53EF\u89C1\uFF0C\u5373\u4F7F Teleport \u7684\u6E32\u67D3\u903B\u8F91\u88AB\u5355\u72EC\u5206\u79BB\u51FA\u6765\uFF0C\u5B83\u7684\u6E32\u67D3\u601D\u8DEF\u4ECD\u7136\u548C\u6E32\u67D3\u5668\u672C\u8EAB\u7684\u6E32\u67D3\u601D\u8DEF\u4FDD\u6301\u4E00\u81F4\u3002</p><p>\u901A\u8FC7\u5224\u65AD\u65E7\u7684\u865A\u62DF\u8282\u70B9\uFF08n1\uFF09 \u662F\u5426\u5B58\u5728\uFF0C\u6765\u51B3\u5B9A\u662F\u6267\u884C\u6302\u8F7D\u8FD8\u662F\u6267\u884C\u66F4\u65B0\u3002\u5982\u679C\u662F\u6302\u8F7D <code>patch</code>\uFF0C\u904D\u5386 Teleport \u7EC4\u4EF6\u7684 children \u5C5E\u6027\u6267\u884C\u56FA\u5B9A\u7236\u8282\u70B9\u4E3A props.to \u7684\u6302\u8F7D\u3002\u66F4\u65B0\u5219\u8C03\u7528 <code>patchChildren</code> \u51FD\u6570\u3002\u540C\u65F6\uFF0C\u8003\u8651\u5230 Teleport \u7EC4\u4EF6\u7684\u66F4\u65B0\u53EF\u80FD\u662F to \u53C2\u6570\u7684\u4E0D\u540C\u5F15\u8D77\u7684\uFF0C\u8865\u5145\u4E86\u83B7\u53D6\u65B0\u5BB9\u5668\u8FDB\u884C\u79FB\u52A8\u7684\u903B\u8F91\u3002</p></div><h2 id="transition-\u7EC4\u4EF6\u7684\u5B9E\u73B0\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#transition-\u7EC4\u4EF6\u7684\u5B9E\u73B0\u539F\u7406" aria-hidden="true">#</a> Transition \u7EC4\u4EF6\u7684\u5B9E\u73B0\u539F\u7406</h2><div class="custom-container tip"><p class="custom-container-title">Transition \u7EC4\u4EF6\u7684\u6838\u5FC3\u539F\u7406</p><ul><li>\u5F53 DOM \u5143\u7D20\u88AB\u6302\u8F7D\u65F6\uFF0C\u5C06\u52A8\u6548\u9644\u52A0\u5230\u8BE5 DOM \u5143\u7D20\u4E0A\uFF1B</li><li>\u5F53 DOM \u5143\u7D20\u88AB\u5378\u8F7D\u65F6\uFF0C\u4E0D\u8981\u7ACB\u5373\u5378\u8F7D DOM \u5143\u7D20\uFF0C\u800C\u662F\u7B49\u5230\u9644\u52A0\u5230\u8BE5 DOM \u5143\u7D20\u4E0A\u7684\u52A8\u6548\u6267\u884C\u5B8C\u6210\u540E\u518D\u5378\u8F7D\u5B83\u3002</li></ul></div><h3 id="\u539F\u751F-dom-\u7684\u8FC7\u6E21" tabindex="-1"><a class="header-anchor" href="#\u539F\u751F-dom-\u7684\u8FC7\u6E21" aria-hidden="true">#</a> \u539F\u751F DOM \u7684\u8FC7\u6E21</h3><p>\u8FC7\u6E21\u6548\u679C\u7684\u672C\u8D28\u662F\u4E00\u4E2A DOM \u5143\u7D20\u518D\u4E24\u79CD\u72B6\u6001\u95F4\u7684\u5207\u6362\uFF0C\u6D4F\u89C8\u5668\u4F1A\u6839\u636E\u8FC7\u6E21\u6548\u679C\u81EA\u884C\u5B8C\u6210 DOM \u5143\u7D20\u7684\u8FC7\u6E21\u3002\u8FD9\u91CC\u7684\u8FC7\u6E21\u6548\u679C\u6307\u7684\u662F\u6301\u7EED\u65F6\u957F\u3001\u8FD0\u52A8\u66F2\u7EBF\u3001\u8981\u8FC7\u6E21\u7684\u5C5E\u6027\u7B49\u3002</p>',5),tn=n("div",{class:"language-css ext-css line-numbers-mode"},[n("pre",{class:"language-css"},[n("code",null,[n("span",{class:"token selector"},".box"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),s(" 100px"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),s(" 100px"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"background-color"),n("span",{class:"token punctuation"},":"),s(" red"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token selector"},".enter-active, .leave-active"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},"transition"),n("span",{class:"token punctuation"},":"),s(" transform 1s ease-in-out"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token selector"},".enter-from, .leave-to"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},"transform"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token function"},"translateX"),n("span",{class:"token punctuation"},"("),s("200px"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token selector"},".enter-to, .leave-from"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},"transform"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token function"},"translateX"),n("span",{class:"token punctuation"},"("),s("0"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),en=n("div",{class:"language-html ext-html line-numbers-mode"},[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("body")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("app"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("script")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[s(`
        `),n("span",{class:"token comment"},"// \u5143\u7D20\u521B\u5EFA"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" container "),n("span",{class:"token operator"},"="),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"querySelector"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'#app'"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"const"),s(" el "),n("span",{class:"token operator"},"="),s(" document"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"createElement"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'div'"),n("span",{class:"token punctuation"},")"),s(`
        el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'box'"),n("span",{class:"token punctuation"},")"),s(`

        `),n("span",{class:"token comment"},"// before enter \u5728\u5143\u7D20\u88AB\u6DFB\u52A0\u5230\u9875\u9762\u4E4B\u524D\uFF0C\u628A\u521D\u59CB\u72B6\u6001\u548C\u8FD0\u52A8\u8FC7\u7A0B\u5B9A\u4E49\u5230\u5143\u7D20\u4E0A"),s(`
        el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'enter-from'"),n("span",{class:"token punctuation"},")"),s(`
        el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'enter-active'"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token comment"},"// \u6DFB\u52A0\u5143\u7D20"),s(`
        container`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"appendChild"),n("span",{class:"token punctuation"},"("),s("el"),n("span",{class:"token punctuation"},")"),s(`
        
        `),n("span",{class:"token comment"},"// enter \u5728\u4E0B\u4E00\u5E27\u5207\u6362\u5143\u7D20\u72B6\u6001"),s(`
        `),n("span",{class:"token function"},"nextFrame"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
            el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"remove"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'enter-from'"),n("span",{class:"token punctuation"},")"),s(`
            el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'enter-to'"),n("span",{class:"token punctuation"},")"),s(`
			`),n("span",{class:"token comment"},"// \u76D1\u542C transitionend \u4E8B\u4EF6\u5B8C\u6210\u6536\u5C3E\u5DE5\u4F5C"),s(`
            el`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"addEventListener"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'transitionend'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
                el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"remove"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'enter-to'"),n("span",{class:"token punctuation"},")"),s(`
                el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"remove"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'enter-active'"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`

        `),n("span",{class:"token comment"},"// requesetAnimationFrame \u6D4F\u89C8\u5668 bug"),s(`
        `),n("span",{class:"token comment"},"// \u5176\u6CE8\u518C\u7684\u51FD\u6570\u56DE\u8C03\u4F1A\u5728\u5F53\u524D\u5E27\u6267\u884C\uFF0C\u9664\u975E\u5176\u4ED6\u4EE3\u7801\u4EE5\u53CA\u8C03\u7528\u4E86\u4E00\u6B21\u8BE5\u51FD\u6570"),s(`
        `),n("span",{class:"token comment"},"// requesetAnimationFrame(() => { requesetAnimationFrame(() => { /*...*/ }) })"),s(`
        `),n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"nextFrame"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"cb"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"requestAnimationFrame"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token function"},"requestAnimationFrame"),n("span",{class:"token punctuation"},"("),s("cb"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`

        el`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"addEventListener"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'click'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token comment"},"// \u5C06\u5378\u8F7D\u52A8\u4F5C\u5C01\u88C5\u5230 performRemove \u51FD\u6570\u4E2D"),s(`
            `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token function-variable function"},"performRemove"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(" el"),n("span",{class:"token punctuation"},"."),s("parentNode"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"removeChild"),n("span",{class:"token punctuation"},"("),s("el"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token comment"},"// remove \u52A8\u4F5C\u7684\u521D\u59CB\u72B6\u6001"),s(`
            el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'leave-from'"),n("span",{class:"token punctuation"},")"),s(`
            el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'leave-active'"),n("span",{class:"token punctuation"},")"),s(`

            `),n("span",{class:"token comment"},"// \u5F3A\u5236 reflow\uFF0C\u4F7F\u521D\u59CB\u72B6\u6001\u751F\u6548"),s(`
            `),n("span",{class:"token comment"},"// document.body.offsetHeight "),s(`

            `),n("span",{class:"token comment"},"// \u5728\u521D\u59CB\u72B6\u6001\u7684\u4E0B\u4E00\u5E27\u5207\u6362\u72B6\u6001"),s(`
            `),n("span",{class:"token function"},"nextFrame"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token comment"},"// \u5207\u6362\u5230\u7ED3\u675F\u72B6\u6001"),s(`
                el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"remove"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'leave-from'"),n("span",{class:"token punctuation"},")"),s(`
                el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'leave-to'"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token comment"},"// \u76D1\u542C transitionend \u4E8B\u4EF6\u5B8C\u6210\u6536\u5C3E\u5DE5\u4F5C"),s(`
                el`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"addEventListener"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'transitionend'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"remove"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'leave-to'"),n("span",{class:"token punctuation"},")"),s(`
                    el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"remove"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'leave-active'"),n("span",{class:"token punctuation"},")"),s(`
                    `),n("span",{class:"token comment"},"// \u8FC7\u6E21\u5B8C\u6210\u4E4B\u540E\u79FB\u9664 DOM \u5143\u7D20"),s(`
                    `),n("span",{class:"token function"},"performRemove"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`

    `)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("script")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("body")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),on=o('<p><img src="https://raw.githubusercontent.com/caffreygo/static/main/blog/Vuejs3/transition.gif" alt=""></p><div class="custom-container tip"><p class="custom-container-title">\u8FC7\u6E21\u72B6\u6001\u8FC7\u7A0B</p><ol><li>\u521D\u59CB\u72B6\u6001 from + active</li><li>\u4E0B\u4E00\u5E27\u5207\u6362\u5230 active + to</li><li>\u76D1\u542C\u52A8\u753B\u7ED3\u675F\u540E\u6536\u5C3E &quot;&quot;</li></ol></div><h3 id="\u5B9E\u73B0-transition-\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u73B0-transition-\u7EC4\u4EF6" aria-hidden="true">#</a> \u5B9E\u73B0 Transition \u7EC4\u4EF6</h3><p>Transition \u7EC4\u4EF6\u7684\u5B9E\u73B0\u539F\u7406\u4E0E\u539F\u751F\u662F\u4E00\u81F4\u7684\uFF0C\u53EA\u4E0D\u8FC7\u5B83\u662F\u57FA\u4E8E\u865A\u62DF DOM \u5B9E\u73B0\u3002</p><p>\u2705 \u6574\u4E2A\u8FC7\u6E21\u8FC7\u7A0B\u53EF\u4EE5\u62BD\u8C61\u4E3A\u51E0\u4E2A\u9636\u6BB5\uFF0C\u8FD9\u4E9B\u9636\u6BB5\u53EF\u4EE5\u62BD\u8C61\u4E3A\u7279\u5B9A\u7684\u56DE\u8C03\u51FD\u6570\uFF1A<code>beforeEnter</code>\u3001<code>enter</code>\u3001<code>leave</code>\u7B49\u3002\u57FA\u4E8E\u865A\u62DF DOM \u7684\u5B9E\u73B0\u4E5F\u9700\u8981\u5C06 DOM \u5143\u7D20\u7684\u751F\u547D\u5468\u671F\u5206\u5272\u4E3A\u8FD9\u6837\u51E0\u4E2A\u9636\u6BB5\uFF0C\u5E76\u5728\u7279\u5B9A\u9636\u6BB5\u6267\u884C\u5BF9\u5E94\u7684\u56DE\u8C03\u51FD\u6570\u3002</p>',5),cn=n("div",{class:"language-html ext-html line-numbers-mode"},[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("Transition")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),n("span",{class:"token punctuation"},">")]),s("\u6211\u662F\u9700\u8981\u8FC7\u6E21\u7684\u5143\u7D20"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("Transition")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),ln=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"render"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token literal-property property"},"type"),n("span",{class:"token operator"},":"),s(" Transition"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token literal-property property"},"children"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"default"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token literal-property property"},"type"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'div'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token literal-property property"},"children"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'\u6211\u662F\u9700\u8981\u8FC7\u6E21\u7684\u5143\u7D20'"),s(),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),pn=n("p",null,[s("Transition \u7EC4\u4EF6\u7684\u5B50\u8282\u70B9\u88AB\u7F16\u8BD1\u4E3A"),n("strong",null,"\u9ED8\u8BA4\u63D2\u69FD"),s("\uFF0C\u4E0E\u666E\u901A\u7EC4\u4EF6\u7684\u884C\u4E3A\u4E00\u81F4\u3002")],-1),un=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" Transition "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Transition'"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function"},"setup"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("props"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(" slots "),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token comment"},"// \u901A\u8FC7\u9ED8\u8BA4\u63D2\u69FD\u53D6\u5F97\u9700\u8981\u8FC7\u6E21\u7684\u5143\u7D20"),s(`
            `),n("span",{class:"token keyword"},"const"),s(" innerVNode "),n("span",{class:"token operator"},"="),s(" slots"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"default"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
			`),n("span",{class:"token comment"},"// \u5728\u8FC7\u6E21\u5143\u7D20\u7684 VNode \u5BF9\u8C61\u4E0A\u6DFB\u52A0 transtion \u54CD\u5E94\u7684\u94A9\u5B50\u51FD\u6570"),s(`
            innerVNode`),n("span",{class:"token punctuation"},"."),s("transition "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token function"},"beforeEnter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"el"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
					`),n("span",{class:"token comment"},"// ..."),s(`
                `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
                `),n("span",{class:"token function"},"enter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"el"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
					`),n("span",{class:"token comment"},"// ..."),s(`
                `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
                `),n("span",{class:"token function"},"leave"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("el"),n("span",{class:"token punctuation"},","),s(" performRemove")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    `),n("span",{class:"token comment"},"// ..."),s(`
                `),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
			`),n("span",{class:"token comment"},"// \u6E32\u67D3\u9700\u8981\u8FC7\u6E21\u7684\u5143\u7D20"),s(`
            `),n("span",{class:"token keyword"},"return"),s(` innerVNode
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),rn=n("p",null,"\u7ECF\u8FC7 Transition \u7EC4\u4EF6\u7684\u5305\u88C5\u4E4B\u540E\uFF0C\u5185\u90E8\u9700\u8981\u8FC7\u6E21\u7684\u865A\u62DF\u8282\u70B9\u5BF9\u8C61\u4F1A\u88AB\u6DFB\u52A0\u4E00\u4E2A vnode.transition \u5BF9\u8C61\u3002\u5176\u4E0B\u5B58\u5728\u4E00\u4E9B\u4E0E DOM \u5143\u7D20\u8FC7\u6E21\u76F8\u5173\u7684\u94A9\u5B50\u51FD\u6570\u3002",-1),kn=n("p",null,[s("\u2705 \u6E32\u67D3\u5668\u5728\u6E32\u67D3\u9700\u8981\u8FC7\u6E21\u7684\u865A\u62DF\u8282\u70B9\u65F6\uFF0C\u4F1A\u5728\u5408\u9002\u7684\u65F6\u673A\u8C03\u7528\u9644\u52A0\u5230\u8BE5\u865A\u62DF\u8282\u70B9\u4E0A\u7684\u8FC7\u6E21\u76F8\u5173\u7684\u751F\u547D\u5468\u671F\u94A9\u5B50\u51FD\u6570\uFF0C\u5177\u4F53\u4F53\u73B0\u5728 "),n("code",null,"mountElement"),s(" \u51FD\u6570\u4EE5\u53CA "),n("code",null,"unmount"),s(" \u51FD\u6570\u4E2D")],-1),dn=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"mountElement"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("vnode"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token keyword"},"const"),s(" el "),n("span",{class:"token operator"},"="),s(" vnode"),n("span",{class:"token punctuation"},"."),s("el "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"createElement"),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},"."),s("type"),n("span",{class:"token punctuation"},")"),s(`

    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"typeof"),s(" vnode"),n("span",{class:"token punctuation"},"."),s("children "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'string'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token function"},"setElementText"),n("span",{class:"token punctuation"},"("),s("el"),n("span",{class:"token punctuation"},","),s(" vnode"),n("span",{class:"token punctuation"},"."),s("children"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("Array"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"isArray"),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},"."),s("children"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        vnode`),n("span",{class:"token punctuation"},"."),s("children"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"child"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"patch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},","),s(" child"),n("span",{class:"token punctuation"},","),s(" el"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},"."),s("props"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"const"),s(" key "),n("span",{class:"token keyword"},"in"),s(" vnode"),n("span",{class:"token punctuation"},"."),s("props"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"patchProps"),n("span",{class:"token punctuation"},"("),s("el"),n("span",{class:"token punctuation"},","),s(" key"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},","),s(" vnode"),n("span",{class:"token punctuation"},"."),s("props"),n("span",{class:"token punctuation"},"["),s("key"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token comment"},"// \u5224\u65AD\u4E00\u4E2A VNode \u662F\u5426\u9700\u8981\u8FC7\u6E21"),s(`
    `),n("span",{class:"token keyword"},"const"),s(" needTransition "),n("span",{class:"token operator"},"="),s(" vnode"),n("span",{class:"token punctuation"},"."),s(`transition
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("needTransition"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        vnode`),n("span",{class:"token punctuation"},"."),s("transition"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"beforeEnter"),n("span",{class:"token punctuation"},"("),s("el"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token function"},"insert"),n("span",{class:"token punctuation"},"("),s("el"),n("span",{class:"token punctuation"},","),s(" container"),n("span",{class:"token punctuation"},","),s(" anchor"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("needTransition"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// \u8C03\u7528 transition.enter \u94A9\u5B50\uFF0C\u5E76\u5C06 DOM \u5143\u7D20\u4F5C\u4E3A\u53C2\u6570\u4F20\u9012"),s(`
        vnode`),n("span",{class:"token punctuation"},"."),s("transition"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"enter"),n("span",{class:"token punctuation"},"("),s("el"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),mn=n("ol",null,[n("li",null,[s("\u5728\u6302\u8F7D\u5143\u7D20\u4E4B\u524D\uFF0C\u4F1A\u8C03\u7528 "),n("code",null,"transition.beforeEnter"),s(" \u94A9\u5B50")]),n("li",null,[s("\u5728\u6302\u8F7D\u5143\u7D20\u4E4B\u540E\uFF0C\u4F1A\u8C03\u7528"),n("code",null,"transition.enter"),s("\u94A9\u5B50")])],-1),vn=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"function"),s(),n("span",{class:"token function"},"unmount"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"vnode"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token comment"},"// \u5224\u65AD VNode \u662F\u5426\u9700\u8981\u8FC7\u6E21"),s(`
    `),n("span",{class:"token keyword"},"const"),s(" needTransition "),n("span",{class:"token operator"},"="),s(" vnode"),n("span",{class:"token punctuation"},"."),s(`transition
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},"."),s("type "),n("span",{class:"token operator"},"==="),s(" Fragment"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        vnode`),n("span",{class:"token punctuation"},"."),s("children"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"c"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token function"},"unmount"),n("span",{class:"token punctuation"},"("),s("c"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"return"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"typeof"),s(" vnode"),n("span",{class:"token punctuation"},"."),s("type "),n("span",{class:"token operator"},"==="),s(),n("span",{class:"token string"},"'object'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},"."),s("shouldKeepAlive"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            vnode`),n("span",{class:"token punctuation"},"."),s("keepAliveInstance"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"_deActivate"),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token function"},"unmount"),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},"."),s("component"),n("span",{class:"token punctuation"},"."),s("subTree"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token keyword"},"return"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token keyword"},"const"),s(" parent "),n("span",{class:"token operator"},"="),s(" vnode"),n("span",{class:"token punctuation"},"."),s("el"),n("span",{class:"token punctuation"},"."),s(`parentNode
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("parent"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// \u5C06\u5378\u8F7D\u52A8\u4F5C\u5C01\u88C5\u5230 performRemove \u51FD\u6570\u4E2D"),s(`
        `),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token function-variable function"},"performRemove"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(" parent"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"removeChild"),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},"."),s("el"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("needTransition"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token comment"},"// \u5982\u679C\u9700\u8981\u8FC7\u6E21\u5904\u7406\uFF0C\u5219\u8C03\u7528 transition.leave \u94A9\u5B50"),s(`
            `),n("span",{class:"token comment"},"// \u540C\u65F6\u5C06 DOM \u5143\u7D20\u548C performRemove \u51FD\u6570\u4F5C\u4E3A\u53C2\u6570\u4F20\u9012"),s(`
            vnode`),n("span",{class:"token punctuation"},"."),s("transition"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"leave"),n("span",{class:"token punctuation"},"("),s("vnode"),n("span",{class:"token punctuation"},"."),s("el"),n("span",{class:"token punctuation"},","),s(" performRemove"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"else"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token comment"},"// \u5982\u679C\u4E0D\u9700\u8981\u8FC7\u6E21\uFF0C\u5219\u76F4\u63A5\u5378\u8F7D\u5143\u7D20"),s(`
            `),n("span",{class:"token function"},"performRemove"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),bn=n("p",null,[s("\u5728\u5378\u8F7D\u5143\u7D20\u65F6\uFF0C\u5982\u679C\u662F\u9700\u8981\u8FC7\u6E21\u7684\u5143\u7D20\uFF0C\u5219\u8C03\u7528"),n("code",null,"transition.leave"),s("\uFF0C\u5E76\u4E14\u628A\u5143\u7D20 "),n("code",null,"el"),s(" \u548C "),n("code",null,"performRemove"),s(" \u51FD\u6570\u4F5C\u4E3A\u53C2\u6570\u4F20\u9012\u3002")],-1),hn=n("div",{class:"language-javascript ext-js line-numbers-mode"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token keyword"},"const"),s(" Transition "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Transition'"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token function"},"setup"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("props"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(" slots "),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token keyword"},"const"),s(" innerVNode "),n("span",{class:"token operator"},"="),s(" slots"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"default"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`

            innerVNode`),n("span",{class:"token punctuation"},"."),s("transition "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token comment"},"// \u8BBE\u7F6E\u521D\u59CB\u72B6\u6001\uFF1Aenter-from + enter-active"),s(`
                `),n("span",{class:"token function"},"beforeEnter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"el"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'enter-from'"),n("span",{class:"token punctuation"},")"),s(`
                    el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'enter-active'"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
                `),n("span",{class:"token function"},"enter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"el"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    `),n("span",{class:"token comment"},"// \u5728\u4E0B\u4E00\u5E27\u5207\u6362\u5230\u7ED3\u675F\u72B6\u6001 enter-active + enter-to"),s(`
                    `),n("span",{class:"token function"},"nextFrame"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
                        el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"remove"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'enter-from'"),n("span",{class:"token punctuation"},")"),s(`
                        el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'enter-to'"),n("span",{class:"token punctuation"},")"),s(`
                        `),n("span",{class:"token comment"},"// \u76D1\u542C transitionend \u4E8B\u4EF6\u5B8C\u6210\u6536\u5C3E\u5DE5\u4F5C"),s(`
                        el`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"addEventListener"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'transitionend'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
                            el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"remove"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'enter-to'"),n("span",{class:"token punctuation"},")"),s(`
                            el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"remove"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'enter-active'"),n("span",{class:"token punctuation"},")"),s(`
                        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
                    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
                `),n("span",{class:"token function"},"leave"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[s("el"),n("span",{class:"token punctuation"},","),s(" performRemove")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    `),n("span",{class:"token comment"},"// \u8BBE\u7F6E\u521D\u59CB\u72B6\u6001\uFF1Aleave-from + leave-active"),s(`
                    el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'leave-from'"),n("span",{class:"token punctuation"},")"),s(`
                    el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'leave-active'"),n("span",{class:"token punctuation"},")"),s(`

                    `),n("span",{class:"token comment"},"// document.body.offsetHeight"),s(`

                    `),n("span",{class:"token function"},"nextFrame"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
                        `),n("span",{class:"token comment"},"// \u5728\u4E0B\u4E00\u5E27\u5207\u6362\u5230\u7ED3\u675F\u72B6\u6001 leave-active + leave-to"),s(`
                        el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"remove"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'leave-from'"),n("span",{class:"token punctuation"},")"),s(`
                        el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"add"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'leave-to'"),n("span",{class:"token punctuation"},")"),s(`
                        `),n("span",{class:"token comment"},"// \u76D1\u542C transitionend \u4E8B\u4EF6\u5B8C\u6210\u6536\u5C3E\u5DE5\u4F5C"),s(`
                        el`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"addEventListener"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'transitionend'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
                            el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"remove"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'leave-to'"),n("span",{class:"token punctuation"},")"),s(`
                            el`),n("span",{class:"token punctuation"},"."),s("classList"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"remove"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'leave-active'"),n("span",{class:"token punctuation"},")"),s(`
                            `),n("span",{class:"token comment"},"// "),s(`
                            `),n("span",{class:"token function"},"performRemove"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
                        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
                    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
			`),n("span",{class:"token comment"},"// \u6E32\u67D3\u9700\u8981\u8FC7\u6E21\u7684\u5143\u7D20"),s(`
            `),n("span",{class:"token keyword"},"return"),s(` innerVNode
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),gn=o('<div class="custom-container tip"><p class="custom-container-title">Transition \u7EC4\u4EF6</p><ul><li>Transition \u7EC4\u4EF6\u672C\u8EAB\u4E0D\u4F1A\u6E32\u67D3\u4EFB\u4F55\u989D\u5916\u7684\u5185\u5BB9\uFF0C\u5B83\u53EA\u662F\u901A\u8FC7\u9ED8\u8BA4\u63D2\u69FD\u8BFB\u53D6\u8FC7\u6E21\u5143\u7D20\uFF0C\u5E76\u6E32\u67D3\u9700\u8981\u8FC7\u6E21\u7684\u5143\u7D20\uFF1B</li><li>Transition \u7EC4\u4EF6\u7684\u4F5C\u7528\uFF0C\u5C31\u662F\u5728\u8FC7\u6E21\u5143\u7D20\u7684\u865A\u62DF\u8282\u70B9\u4E0A\u6DFB\u52A0 transition \u76F8\u5173\u7684\u94A9\u5B50\u51FD\u6570\u3002</li></ul></div><p>\u76EE\u524D\uFF0C\u4EE3\u7801\u786C\u7F16\u7801\u4E86\u8FC7\u6E21\u72B6\u6001\u7684\u7C7B\u540D\uFF0C\u4F8B\u5982<code>enter-from</code>\u3001<code>enter-active</code>\u3001<code>enter-to</code>\u7B49\u3002\u5B9E\u9645\u4E0A\uFF0C\u6211\u4EEC\u53EF\u4EE5\u8F7B\u677E\u901A\u8FC7 props \u6765\u5B9E\u73B0\u5141\u8BB8\u7528\u6237\u81EA\u5B9A\u4E49\u7C7B\u540D\u7684\u80FD\u529B\uFF0C\u4ECE\u800C\u5B9E\u73B0\u4E00\u4E2A\u66F4\u52A0\u7075\u6D3B\u7684 Transition \u7EC4\u4EF6\u3002</p><p>\u53E6\u5916\uFF0C\u6211\u4EEC\u6CA1\u6709\u5B9E\u73B0\u201C\u6A21\u5F0F\u201D\u7684\u6982\u5FF5\uFF0C\u5373\u5148\u8FDB\u540E\u51FA\uFF08in-out\uFF09\u548C\u540E\u8FDB\u5148\u51FA\uFF08out-in\uFF09\u3002\u6A21\u5F0F\u7684\u6982\u5FF5\u5B9E\u9645\u4E0A\u53EA\u662F\u589E\u52A0\u4E86\u5BF9\u8282\u70B9\u8FC7\u6E21\u65F6\u673A\u7684\u63A7\u5236\uFF0C\u539F\u7406\u4E0A\u4E0E\u5C06\u5378\u8F7D\u52A8\u4F5C\u5C01\u88C5\u5230 <code>performRemove</code> \u51FD\u6570\u4E2D\u4E00\u6837\uFF0C\u53EA\u9700\u8981\u5728\u5177\u4F53\u7684\u65F6\u673A\u4EE5\u56DE\u8C03\u7684\u5F62\u5F0F\u5C06\u63A7\u5236\u6743\u4EA4\u63A5\u51FA\u53BB\u5373\u53EF\u3002</p>',3);function fn(yn,_n){const e=l("CodeGroupItem"),c=l("CodeGroup"),p=l("ExternalLinkIcon");return u(),r("div",null,[d,a(c,null,{default:t(()=>[a(e,{title:"Tab \u7EC4\u4EF6"},{default:t(()=>[m,v]),_:1}),a(e,{title:"Transition"},{default:t(()=>[b,h]),_:1})]),_:1}),g,a(c,null,{default:t(()=>[a(e,{title:"\u57FA\u672C\u5B9E\u73B0"},{default:t(()=>[f,y,_]),_:1}),a(e,{title:"unmount \u5047\u5378\u8F7D"},{default:t(()=>[w]),_:1}),a(e,{title:"unmount \u7EC4\u4EF6\u6FC0\u6D3B"},{default:t(()=>[T]),_:1}),a(e,{title:"\u6E32\u67D3\u5668\u6CE8\u5165\u79FB\u52A8\u51FD\u6570"},{default:t(()=>[A]),_:1})]),_:1}),x,a(c,null,{default:t(()=>[a(e,{title:"props \u5B9A\u4E49"},{default:t(()=>[j,K]),_:1}),a(e,{title:"\u6B63\u5219\u5339\u914D"},{default:t(()=>[V]),_:1})]),_:1}),E,a(c,null,{default:t(()=>[a(e,{title:"\u7F13\u5B58\u9608\u503C\u63A5\u53E3"},{default:t(()=>[N]),_:1}),a(e,{title:"\u81EA\u5B9A\u4E49\u7F13\u5B58\u7B56\u7565\u63A5\u53E3"},{default:t(()=>[q]),_:1}),a(e,{title:"\u7F13\u5B58\u5B9E\u4F8B"},{default:t(()=>[C]),_:1})]),_:1}),L,n("blockquote",null,[n("p",null,[M,n("a",O,[D,a(p)])]),R,F]),I,a(c,null,{default:t(()=>[a(e,{title:"patch \u51FD\u6570\u4FEE\u6539"},{default:t(()=>[P,H,B,n("p",null,[S,n("a",z,[G,a(p)])]),X]),_:1}),a(e,{title:"Teleport \u7EC4\u4EF6\u5B9A\u4E49"},{default:t(()=>[J,Q]),_:1}),a(e,{title:"\u7528\u6237\u6A21\u677F"},{default:t(()=>[U,W]),_:1}),a(e,{title:"\u7F16\u8BD1\u7ED3\u679C\u8BBE\u8BA1"},{default:t(()=>[Y,Z]),_:1}),a(e,{title:"Teleport \u7EC4\u4EF6\u5B9E\u73B0"},{default:t(()=>[$]),_:1}),a(e,{title:"move \u51FD\u6570"},{default:t(()=>[nn,sn]),_:1})]),_:1}),an,a(c,null,{default:t(()=>[a(e,{title:"\u6837\u5F0F"},{default:t(()=>[tn]),_:1}),a(e,{title:"\u6A21\u677F\u548C\u811A\u672C"},{default:t(()=>[en]),_:1})]),_:1}),on,a(c,null,{default:t(()=>[a(e,{title:"\u7EC4\u4EF6\u6A21\u677F"},{default:t(()=>[cn]),_:1}),a(e,{title:"\u7F16\u8BD1\u540E\u7684\u865A\u62DF DOM"},{default:t(()=>[ln,pn]),_:1}),a(e,{title:"Transition \u7EC4\u4EF6"},{default:t(()=>[un,rn,kn]),_:1}),a(e,{title:"mountElement"},{default:t(()=>[dn,mn]),_:1}),a(e,{title:"unmount"},{default:t(()=>[vn,bn]),_:1}),a(e,{title:"Transition \u7EC4\u4EF6\u5B9E\u73B0"},{default:t(()=>[hn]),_:1})]),_:1}),gn])}var Tn=i(k,[["render",fn],["__file","chapter14.html.vue"]]);export{Tn as default};
